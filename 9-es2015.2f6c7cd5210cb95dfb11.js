(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"05qC":function(t,c,e){"use strict";e.d(c,"a",function(){return G});var n=e("fXoL"),a=e("ofXK"),o=e("2ljo"),i=e("Ne1S"),s=e("Kt2f"),b=e("Xc1m");function r(t,c){if(1&t&&(n.Vb(0,"ct-section-body-row"),n.Gc(1,"\n            "),n.Vb(2,"div",1),n.Gc(3,"STATUS:"),n.Ub(),n.Gc(4,"\n            "),n.Vb(5,"ct-heading"),n.Gc(6),n.Ub(),n.Gc(7,"\n        "),n.Ub()),2&t){const t=n.gc(2);n.Db(6),n.Hc(t.content.status)}}function l(t,c){if(1&t&&(n.Vb(0,"ct-section-body-row"),n.Gc(1,"\n            "),n.Vb(2,"div",1),n.Gc(3,"STATUS:"),n.Ub(),n.Gc(4,"\n            "),n.Vb(5,"ct-heading"),n.Gc(6),n.Ub(),n.Gc(7,"\n        "),n.Ub()),2&t){const t=n.gc(2);n.Db(6),n.Hc(t.content.validationResult.status)}}function d(t,c){if(1&t&&(n.Vb(0,"li"),n.Gc(1),n.Ub()),2&t){const t=c.$implicit;n.Db(1),n.Hc(t)}}function u(t,c){if(1&t&&(n.Vb(0,"ct-section-body-row"),n.Gc(1,"\n            "),n.Vb(2,"div",1),n.Gc(3,"ERRORS:"),n.Ub(),n.Gc(4,"\n            "),n.Vb(5,"ul",2),n.Gc(6,"\n                "),n.Ec(7,d,2,1,"li",3),n.Gc(8,"\n            "),n.Ub(),n.Gc(9,"\n        "),n.Ub()),2&t){const t=n.gc(2);n.Db(7),n.mc("ngForOf",t.content.errorMessages)}}function m(t,c){if(1&t&&(n.Vb(0,"li"),n.Gc(1),n.Ub()),2&t){const t=c.$implicit;n.Db(1),n.Hc(t)}}function p(t,c){if(1&t&&(n.Vb(0,"ct-section-body-row"),n.Gc(1,"\n            "),n.Vb(2,"div",1),n.Gc(3,"INFO:"),n.Ub(),n.Gc(4,"\n            "),n.Vb(5,"ul",2),n.Gc(6,"\n                "),n.Ec(7,m,2,1,"li",3),n.Gc(8,"\n            "),n.Ub(),n.Gc(9,"\n        "),n.Ub()),2&t){const t=n.gc(2);n.Db(7),n.mc("ngForOf",t.content.infoMessages)}}function h(t,c){if(1&t&&(n.Vb(0,"ct-section"),n.Gc(1,"\n    "),n.Vb(2,"ct-section-body"),n.Gc(3,"\n        "),n.Ec(4,r,8,1,"ct-section-body-row",0),n.Gc(5,"\n\n        "),n.Ec(6,l,8,1,"ct-section-body-row",0),n.Gc(7,"\n\n        "),n.Ec(8,u,10,1,"ct-section-body-row",0),n.Gc(9,"\n\n        "),n.Ec(10,p,10,1,"ct-section-body-row",0),n.Gc(11,"\n    "),n.Ub(),n.Gc(12,"\n"),n.Ub()),2&t){const t=n.gc();n.Db(4),n.mc("ngIf",t.content.status),n.Db(2),n.mc("ngIf",t.content.validationResult),n.Db(2),n.mc("ngIf",null==t.content.errorMessages?null:t.content.errorMessages.length),n.Db(2),n.mc("ngIf",null==t.content.infoMessages?null:t.content.infoMessages.length)}}let G=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=n.Jb({type:t,selectors:[["ct-rest-status"]],inputs:{content:"content"},decls:1,vars:1,consts:[[4,"ngIf"],[2,"font-size","75%","opacity","0.75"],[1,"code"],[4,"ngFor","ngForOf"]],template:function(t,c){1&t&&n.Ec(0,h,13,4,"ct-section",0),2&t&&n.mc("ngIf",c.content)},directives:[a.m,o.a,i.a,s.a,b.a,a.l],styles:[".code[_ngcontent-%COMP%]{font-size:75%;line-height:1.8;font-family:Courier New,Courier,monospace}"]}),t})()},"6xdO":function(t,c,e){"use strict";e.d(c,"a",function(){return i});var n=e("fXoL"),a=e("Xa2L");const o=["*"];let i=(()=>{class t{constructor(t){this.changeDetector=t,this.state={wait:!1}}ngOnInit(){void 0===this.isWaiting?this.isFnMode=!0:(this.isFnMode=!1,this.state.wait=this.isWaiting)}ngOnDestroy(){this.changeDetector.detach()}ngOnChanges(){this.isFnMode||(this.state.wait=this.isWaiting)}wait(){this.isFnMode&&(this.state.wait=!0,this.changeDetector.destroyed||this.changeDetector.detectChanges())}show(){this.isFnMode&&(this.state.wait=!1,this.changeDetector.destroyed||this.changeDetector.detectChanges())}}return t.\u0275fac=function(c){return new(c||t)(n.Pb(n.h))},t.\u0275cmp=n.Jb({type:t,selectors:[["ct-table"]],inputs:{isWaiting:"isWaiting"},features:[n.Bb],ngContentSelectors:o,decls:12,vars:2,consts:[[1,"ct-table"],[1,"ct-table__body"],[1,"ct-table__wait"]],template:function(t,c){1&t&&(n.lc(),n.Vb(0,"div",0),n.Gc(1,"\n    "),n.Vb(2,"div",1),n.Gc(3,"\n        "),n.kc(4),n.Gc(5,"\n    "),n.Ub(),n.Gc(6,"\n    "),n.Vb(7,"div",2),n.Gc(8,"\n        "),n.Qb(9,"mat-spinner"),n.Gc(10,"\n    "),n.Ub(),n.Gc(11,"\n"),n.Ub()),2&t&&n.Hb("ct-table--wait",c.state.wait)},directives:[a.b],styles:["[_nghost-%COMP%]{display:block;position:relative;margin:0;overflow-y:auto}[_nghost-%COMP%]     .mat-table{width:100%;border-collapse:collapse;background:none}[_nghost-%COMP%]     .mat-header-row{height:auto}[_nghost-%COMP%]     .mat-cell, [_nghost-%COMP%]     .mat-footer-cell, [_nghost-%COMP%]     .mat-header-cell{border-bottom-width:1px;border-bottom-style:solid;border-top-width:1px;border-top-style:solid;padding:9px;font-family:Roboto Condensed,sans-serif;font-size:14.94px;line-height:18px}[_nghost-%COMP%]     .mat-header-cell{white-space:nowrap;font-weight:700;vertical-align:baseline;color:inherit}[_nghost-%COMP%]     .mat-cell{vertical-align:baseline}[_nghost-%COMP%]     .mat-cell:first-child, [_nghost-%COMP%]     .mat-header-cell:first-child{padding-left:9px}[_nghost-%COMP%]     .mat-cell:last-child, [_nghost-%COMP%]     .mat-header-cell:last-child{padding-right:9px}[_nghost-%COMP%]     .mat-row{height:auto}.light-theme[_nghost-%COMP%]     .mat-cell, .light-theme   [_nghost-%COMP%]     .mat-cell, .light-theme[_nghost-%COMP%]     .mat-footer-cell, .light-theme   [_nghost-%COMP%]     .mat-footer-cell, .light-theme[_nghost-%COMP%]     .mat-header-cell, .light-theme   [_nghost-%COMP%]     .mat-header-cell{border-top-color:#f0f0f0;border-bottom-color:#f0f0f0}.dark-theme[_nghost-%COMP%]     .mat-cell, .dark-theme   [_nghost-%COMP%]     .mat-cell, .dark-theme[_nghost-%COMP%]     .mat-footer-cell, .dark-theme   [_nghost-%COMP%]     .mat-footer-cell, .dark-theme[_nghost-%COMP%]     .mat-header-cell, .dark-theme   [_nghost-%COMP%]     .mat-header-cell{border-top-color:#474747;border-bottom-color:#474747}.ct-table[_ngcontent-%COMP%]{position:relative}.ct-table__wait[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background-color:hsla(0,0%,100%,.1);overflow:hidden}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__body[_ngcontent-%COMP%]{opacity:.5}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__wait[_ngcontent-%COMP%]{display:flex}"]}),t})()},W7k4:function(t,c,e){"use strict";e.d(c,"a",function(){return l});var n=e("fXoL"),a=e("ofXK"),o=e("CaYE"),i=e("No2e"),s=e("bTqV"),b=e("NFeN");function r(t,c){if(1&t){const t=n.Wb();n.Vb(0,"ct-flex",1),n.Gc(1,"\n    "),n.Vb(2,"ct-flex-item"),n.Gc(3,"\n        "),n.Vb(4,"button",2),n.cc("click",function(){return n.wc(t),n.gc()._prev()}),n.Gc(5,"\n            "),n.Vb(6,"mat-icon"),n.Gc(7,"arrow_back_ios"),n.Ub(),n.Gc(8,"\n        "),n.Ub(),n.Gc(9,"\n    "),n.Ub(),n.Gc(10,"\n    "),n.Vb(11,"ct-flex-item"),n.Gc(12,"\n        "),n.Vb(13,"button",2),n.cc("click",function(){return n.wc(t),n.gc()._next()}),n.Gc(14,"\n            "),n.Vb(15,"mat-icon"),n.Gc(16,"arrow_forward_ios"),n.Ub(),n.Gc(17,"\n        "),n.Ub(),n.Gc(18,"\n    "),n.Ub(),n.Gc(19,"\n"),n.Ub()}if(2&t){const t=n.gc();n.Db(4),n.mc("disabled",t.globalDisable||t.pageableDefault.first),n.Db(9),n.mc("disabled",t.globalDisable||t.pageableDefault.last)}}let l=(()=>{class t{constructor(){this.next=new n.o,this.prev=new n.o}_next(){this.next.emit()}_prev(){this.prev.emit()}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=n.Jb({type:t,selectors:[["ct-table-pagination"]],inputs:{globalDisable:"globalDisable",pageableDefault:"pageableDefault"},outputs:{next:"next",prev:"prev"},decls:1,vars:1,consts:[["justify-content","flex-start","gap","8px",4,"ngIf"],["justify-content","flex-start","gap","8px"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,c){1&t&&n.Ec(0,r,20,2,"ct-flex",0),2&t&&n.mc("ngIf",c.pageableDefault)},directives:[a.m,o.a,i.a,s.b,b.a],styles:[""]}),t})()},lJGJ:function(t,c,e){"use strict";e.d(c,"a",function(){return b});var n=e("0IaG"),a=e("cp0P"),o=e("fXoL"),i=e("bTqV");let s=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c}onNoClick(){this.dialogRef.close(0)}onYesClick(){this.dialogRef.close(1)}}return t.\u0275fac=function(c){return new(c||t)(o.Pb(n.g),o.Pb(n.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-dialog-confirmation"]],decls:19,vars:3,consts:[[1,"mat-dialog-content"],[1,"mat-dialog-actions"],[1,"mat-dialog-action"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","warn",3,"click"]],template:function(t,c){1&t&&(o.Vb(0,"div",0),o.Gc(1),o.Ub(),o.Qb(2,"br"),o.Gc(3,"\n"),o.Vb(4,"div",1),o.Gc(5,"\n  "),o.Vb(6,"div",2),o.Gc(7,"\n    "),o.Vb(8,"button",3),o.cc("click",function(){return c.onNoClick()}),o.Gc(9),o.Ub(),o.Gc(10,"\n  "),o.Ub(),o.Gc(11,"\n  "),o.Vb(12,"div",2),o.Gc(13,"\n    "),o.Vb(14,"button",4),o.cc("click",function(){return c.onYesClick()}),o.Gc(15),o.Ub(),o.Gc(16,"\n  "),o.Ub(),o.Gc(17,"\n"),o.Ub(),o.Gc(18," ")),2&t&&(o.Db(1),o.Hc(c.data.question),o.Db(8),o.Hc(c.data.rejectTitle),o.Db(6),o.Hc(c.data.resolveTitle))},directives:[i.b],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 -8px}.mat-dialog-action[_ngcontent-%COMP%]{flex:1;margin:0 8px}.mat-dialog-action[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.mat-dialog-content[_ngcontent-%COMP%]{max-height:auto!important;overflow:hidden!important}"]}),t})();function b(t){return function(c,e,n){const o=n.value;return n.value=function(...c){let e={text:"",params:!1};"string"==typeof t.question(...c)?e.text=t.question(...c):e=t.question(...c),this.dialog||function(){throw new Error("\ncomponent require MatDialog\n\nimport { MatDialog } from '@angular/material';\n...\nconstructor(\n    ...\n    private dialog: MatDialog\n    ...\n) {}\n                ")}(),e.params&&!this.translate&&function(){throw new Error("\ncomponent require TranslateService\n\nimport { TranslateService } from '@ngx-translate/core';\n...\nconstructor(\n    ...\n    private translate: TranslateService\n    ...\n) {}\n                ")}(),this.translate?Object(a.a)(this.translate.get(e.text,e.params),this.translate.get(t.resolveTitle),this.translate.get(t.rejectTitle)).subscribe(t=>{this.dialog.open(s,{width:"500px",data:{question:t[0],resolveTitle:t[1],rejectTitle:t[2]}}).afterClosed().subscribe(t=>{t&&o.apply(this,c)})}):this.dialog.open(s,{width:"500px",data:{question:e.text,resolveTitle:t.resolveTitle,rejectTitle:t.rejectTitle}}).afterClosed().subscribe(t=>{t&&o.apply(this,c)})},n}}},pYoV:function(t,c,e){"use strict";e.r(c),e.d(c,"CompanyRoutes",function(){return pe}),e.d(c,"CompanyRoutingModule",function(){return he}),e.d(c,"CompnyModule",function(){return Ge});var n=e("ofXK"),a=e("tyNb"),o=e("sYmb"),i=e("9kxi"),s=e("vCXQ"),b=e("fXoL");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=b.Jb({type:t,selectors:[["company"]],decls:3,vars:0,template:function(t,c){1&t&&(b.Vb(0,"p"),b.Gc(1,"company works!"),b.Ub(),b.Gc(2,"\n"))},styles:[""]}),t})();var l=e("+0xr"),d=e("FzDw"),u=e("q4ZW"),m=e("tk/3"),p=e("bzsW"),h=e("AytR"),G=e("HDdC"),f=e("Cfvw"),g=e("LRne"),U=e("xOOu"),V=e("bOdf"),y=e("JIr8"),w=e("Iab2");const v=t=>`${h.a.baseUrl}dispatcher/company/${t}`;let D=(()=>{class t{constructor(t){this.http=t,this.companies=t=>this.http.get(v("companies"),{params:{page:t}}),this.addFormCommitCompany=t=>this.http.post(v("company-add-commit"),Object(p.a)({companyName:t})),this.editCompany=t=>this.http.get(v(`company-edit/${t}`)),this.editFormCommitCompany=(t,c,e)=>this.http.post(v("company-edit-commit"),Object(p.a)({companyUniqueId:t,name:c,groups:e})),this.accounts=(t,c)=>this.http.get(v(`company-accounts/${c}`),{params:{page:t}}),this.addFormCommitNewAccount=(t,c)=>this.http.post(v(`company-account-add-commit/${c}`),t),this.edit=(t,c)=>this.http.get(v(`company-account-edit/${t}/${c}`)),this.editFormCommit=(t,c,e,n)=>this.http.post(v(`company-account-edit-commit/${n}`),Object(p.a)({id:t,publicName:c,enabled:e,companyUniqueId:n})),this.passwordEdit=(t,c)=>this.http.get(v(`company-account-password-edit/${c}/${t}`)),this.passwordEditFormCommit=(t,c,e,n)=>this.http.post(v(`company-account-password-edit-commit/${n}`),Object(p.a)({id:t,password:c,password2:e,companyUniqueId:n})),this.editRoles=(t,c)=>this.http.get(v(`company-account-edit-roles/${c}/${t}`)),this.rolesEditFormCommit=(t,c,e,n)=>this.http.post(v(`company-account-edit-roles-commit/${n}`),Object(p.a)({accountId:t,role:c,checkbox:e,companyId:n})),this.batches=(t,c)=>this.http.get(v(`batch/company-batches/${c}`),{params:{page:t}}),this.processBatchDelete=(t,c)=>this.http.get(v(`batch/company-batch-delete/${t}/${c}`)),this.processBatchDeleteCommit=(t,c)=>this.http.post(v(`batch/company-batch-delete-commit/${t}`),Object(p.a)({batchId:c})),this.processBatchesBulkDeleteCommit=(t,c)=>this.http.post(v(`batch/company-batch-bulk-delete-commit/${t}`),Object(p.a)({batchIds:c})),this.uploadFile=(t,c,e)=>this.http.post(v(`batch/company-batch-upload-from-file/${t}`),Object(p.a)({sourceCodeId:c,file:e})),this.getBatchStatus=(t,c)=>this.http.get(v(`batch/company-batch-status/${t}/${c}`)),this.downloadProcessingResult=(t,c)=>{let e=new m.d;return e=e.append("Accept","application/octet-stream"),this.http.get(v(`batch/company-batch-download-result/${t}/${c}`),{headers:e,observe:"response",responseType:"blob"})},this.downloadOriginFile=(t,c,e)=>{let n=new m.d;return n=n.append("Accept","application/octet-stream"),this.http.get(v(`batch/company-batch-download-origin-file/${t}/${c}/${e}`),{headers:n,observe:"response",responseType:"blob"})},this.sourceCodesForCompany=t=>this.http.get(v(`batch/company-batch-source-codes/${t}`))}downloadProcessingResults(t,c){const e="result "+t.toString()+".zip",n=new U,a=t.map(t=>({id:t.toString(),fileName:"empty",response:null,companyId:c}));return new G.a(t=>{Object(f.a)(a).pipe(Object(V.a)(t=>this.downloadProcessingResult(t.companyId,t.id).pipe(Object(y.a)(t=>Object(g.a)(t)),this.parseProcessableItemOperator(t)))).subscribe({next:t=>{},error:c=>t.error(c),complete:()=>{a.forEach(t=>{n.file(t.fileName,t.response.body)}),n.generateAsync({type:"blob"}).then(t=>{w.saveAs(t,e)}),t.next(!0),t.complete()}})})}parseProcessableItemOperator(t){return c=>new G.a(e=>c.subscribe({next:c=>{t.response=c,t.fileName=c.ok?`${t.id}.zip`:`${t.id} error`,e.next()},error:t=>e.error(t),complete:()=>e.complete()}))}}return t.\u0275fac=function(c){return new(c||t)(b.Zb(m.b))},t.\u0275prov=b.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=e("J0F4"),I=e("2ljo"),x=e("1P+h"),S=e("25/r"),R=e("CaYE"),k=e("No2e"),M=e("Xc1m"),E=e("Ne1S"),O=e("Kt2f"),T=e("FMVq"),P=e("V6TR"),q=e("W7k4"),L=e("xAq4"),$=e("6xdO"),F=e("bTqV");function j(t,c){1&t&&b.Rb(0)}function _(t,c){if(1&t&&(b.Vb(0,"ct-flex-item"),b.Gc(1,"\n                    "),b.Ec(2,j,1,0,"ng-container",4),b.Gc(3,"\n                "),b.Ub()),2&t){b.gc(2);const t=b.uc(6);b.Db(2),b.mc("ngTemplateOutlet",t)}}function N(t,c){1&t&&(b.Vb(0,"ct-section-header-row"),b.Gc(1,"\n            "),b.Vb(2,"ct-alert",6),b.Gc(3,"\n                Management of companies are disabled, assetMode is 'replicated'.\n            "),b.Ub(),b.Gc(4,"\n        "),b.Ub())}function A(t,c){1&t&&b.Rb(0)}function Q(t,c){1&t&&b.Rb(0)}function W(t,c){if(1&t&&(b.Vb(0,"ct-flex-item"),b.Gc(1,"\n                    "),b.Ec(2,Q,1,0,"ng-container",4),b.Gc(3,"\n                "),b.Ub()),2&t){b.gc(2);const t=b.uc(6);b.Db(2),b.mc("ngTemplateOutlet",t)}}function H(t,c){if(1&t){const t=b.Wb();b.Vb(0,"ct-section"),b.Gc(1,"\n    "),b.Vb(2,"ct-section-header"),b.Gc(3,"\n        "),b.Vb(4,"ct-section-header-row"),b.Gc(5,"\n            "),b.Vb(6,"ct-flex",3),b.Gc(7,"\n                "),b.Vb(8,"ct-flex-item"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11,"Companies"),b.Ub(),b.Gc(12,"\n                "),b.Ub(),b.Gc(13,"\n                "),b.Ec(14,_,4,1,"ct-flex-item",0),b.Gc(15,"\n            "),b.Ub(),b.Gc(16,"\n        "),b.Ub(),b.Gc(17,"\n        "),b.Ec(18,N,5,0,"ct-section-header-row",0),b.Gc(19,"\n    "),b.Ub(),b.Gc(20,"\n    "),b.Vb(21,"ct-section-body"),b.Gc(22,"\n        "),b.Vb(23,"ct-section-body-row"),b.Gc(24,"\n            "),b.Ec(25,A,1,0,"ng-container",4),b.Gc(26,"\n        "),b.Ub(),b.Gc(27,"\n    "),b.Ub(),b.Gc(28,"\n    "),b.Vb(29,"ct-section-footer"),b.Gc(30,"\n        "),b.Vb(31,"ct-section-footer-row"),b.Gc(32,"\n            "),b.Vb(33,"ct-flex",3),b.Gc(34,"\n                "),b.Vb(35,"ct-flex-item"),b.Gc(36,"\n                    "),b.Vb(37,"ct-table-pagination",5),b.cc("prev",function(){return b.wc(t),b.gc().prevPage()})("next",function(){return b.wc(t),b.gc().nextPage()}),b.Ub(),b.Gc(38,"\n                "),b.Ub(),b.Gc(39,"\n                "),b.Ec(40,W,4,1,"ct-flex-item",0),b.Gc(41,"\n            "),b.Ub(),b.Gc(42,"\n        "),b.Ub(),b.Gc(43,"\n    "),b.Ub(),b.Gc(44,"\n"),b.Ub()}if(2&t){const t=b.gc(),c=b.uc(3);b.Db(14),b.mc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.simpleCompaniesResult.assetMode)),b.Db(4),b.mc("ngIf",t.dispatcherAssetModeService.isReplicated(t.simpleCompaniesResult.assetMode)),b.Db(7),b.mc("ngTemplateOutlet",c),b.Db(12),b.mc("pageableDefault",t.simpleCompaniesResult.companies),b.Db(3),b.mc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.simpleCompaniesResult.assetMode))}}function z(t,c){1&t&&(b.Vb(0,"th",16),b.Gc(1,"Id"),b.Ub())}function B(t,c){if(1&t&&(b.Vb(0,"td",17),b.Gc(1),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("",t.uniqueId," ")}}function J(t,c){1&t&&(b.Vb(0,"th",16),b.Gc(1,"Name"),b.Ub())}function X(t,c){if(1&t&&(b.Vb(0,"td",17),b.Gc(1),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("",t.name," ")}}function K(t,c){1&t&&(b.Vb(0,"th",16),b.Gc(1," "),b.Ub())}const Y=function(t){return["../",t,"edit"]};function Z(t,c){if(1&t&&(b.Tb(0),b.Gc(1,"\n                                "),b.Vb(2,"ct-flex-item"),b.Gc(3,"\n                                    "),b.Vb(4,"a",19),b.Gc(5,"Edit"),b.Ub(),b.Gc(6,"\n                                "),b.Ub(),b.Gc(7,"\n                            "),b.Sb()),2&t){const t=b.gc(2).$implicit;b.Db(4),b.mc("routerLink",b.pc(1,Y,t.uniqueId))}}function tt(t,c){if(1&t&&(b.Tb(0),b.Gc(1,"\n                            "),b.Ec(2,Z,8,3,"ng-container",0),b.Gc(3,"\n                        "),b.Sb()),2&t){const t=b.gc(3);b.Db(2),b.mc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.simpleCompaniesResult.assetMode))}}const ct=function(t){return["../",t,"accounts"]};function et(t,c){if(1&t&&(b.Tb(0),b.Gc(1,"\n                            "),b.Vb(2,"ct-flex-item"),b.Gc(3,"\n                                "),b.Vb(4,"a",19),b.Gc(5,"Accounts"),b.Ub(),b.Gc(6,"\n                            "),b.Ub(),b.Gc(7,"\n                        "),b.Sb()),2&t){const t=b.gc().$implicit;b.Db(4),b.mc("routerLink",b.pc(1,ct,t.uniqueId))}}const nt=function(t){return["../",t,"batches"]};function at(t,c){if(1&t&&(b.Tb(0),b.Gc(1,"\n                                "),b.Vb(2,"ct-flex-item"),b.Gc(3,"\n                                    "),b.Vb(4,"a",19),b.Gc(5,"Batches"),b.Ub(),b.Gc(6,"\n                                "),b.Ub(),b.Gc(7,"\n                            "),b.Sb()),2&t){const t=b.gc(2).$implicit;b.Db(4),b.mc("routerLink",b.pc(1,nt,t.uniqueId))}}function ot(t,c){if(1&t&&(b.Tb(0),b.Gc(1,"\n                            "),b.Ec(2,at,8,3,"ng-container",0),b.Gc(3,"\n                        "),b.Sb()),2&t){const t=b.gc().$implicit;b.Db(2),b.mc("ngIf",1!==t.id)}}function it(t,c){if(1&t&&(b.Vb(0,"td",17),b.Gc(1,"\n                    "),b.Vb(2,"ct-flex",18),b.Gc(3,"\n                        "),b.Ec(4,tt,4,1,"ng-container",0),b.Gc(5,"\n\n                        "),b.Ec(6,et,8,3,"ng-container",0),b.Gc(7,"\n\n                        "),b.Ec(8,ot,4,1,"ng-container",0),b.Gc(9,"\n                    "),b.Ub(),b.Gc(10,"\n                "),b.Ub()),2&t){const t=b.gc(2);b.Db(4),b.mc("ngIf",t.authenticationService.isRoleMasterAdmin()),b.Db(2),b.mc("ngIf",t.authenticationService.isRoleMasterAdmin()),b.Db(2),b.mc("ngIf",t.authenticationService.isRoleMasterOperator()||t.authenticationService.isRoleMasterSupport())}}function st(t,c){1&t&&b.Qb(0,"tr",20)}function bt(t,c){1&t&&b.Qb(0,"tr",21)}function rt(t,c){if(1&t&&(b.Gc(0,"\n    "),b.Vb(1,"ct-table",7),b.Gc(2,"\n        "),b.Vb(3,"table",8),b.Gc(4,"\n            "),b.Tb(5,9),b.Gc(6,"\n                "),b.Ec(7,z,2,0,"th",10),b.Gc(8,"\n                "),b.Ec(9,B,2,1,"td",11),b.Gc(10,"\n            "),b.Sb(),b.Gc(11,"\n            "),b.Tb(12,12),b.Gc(13,"\n                "),b.Ec(14,J,2,0,"th",10),b.Gc(15,"\n                "),b.Ec(16,X,2,1,"td",11),b.Gc(17,"\n            "),b.Sb(),b.Gc(18,"\n            "),b.Tb(19,13),b.Gc(20,"\n                "),b.Ec(21,K,2,0,"th",10),b.Gc(22,"\n                "),b.Ec(23,it,11,3,"td",11),b.Gc(24,"\n            "),b.Sb(),b.Gc(25,"\n            "),b.Ec(26,st,1,0,"tr",14),b.Gc(27,"\n            "),b.Ec(28,bt,1,0,"tr",15),b.Gc(29,"\n        "),b.Ub(),b.Gc(30,"\n    "),b.Ub(),b.Gc(31,"\n")),2&t){const t=b.gc();b.Db(1),b.mc("isWaiting",t.isLoading),b.Db(2),b.mc("dataSource",t.dataSource),b.Db(23),b.mc("matHeaderRowDef",t.columnsToDisplay),b.Db(2),b.mc("matRowDefColumns",t.columnsToDisplay)}}function lt(t,c){1&t&&(b.Gc(0,"\n    "),b.Vb(1,"button",22),b.Gc(2," Add New Company "),b.Ub(),b.Gc(3,"\n"))}let dt=(()=>{class t extends d.a{constructor(t,c,e){super(t),this.authenticationService=t,this.companyService=c,this.dispatcherAssetModeService=e,this.columnsToDisplay=["uniqueId","name","bts"],this.dataSource=new l.k([])}ngOnInit(){this.updateTable(0)}updateTable(t){this.setIsLoadingStart(),this.companyService.companies(t.toString()).subscribe({next:t=>{this.simpleCompaniesResult=t,this.dataSource=new l.k(this.simpleCompaniesResult.companies.content)},complete:()=>{this.setIsLoadingEnd()}})}prevPage(){this.updateTable(this.simpleCompaniesResult.companies.number-1)}nextPage(){this.updateTable(this.simpleCompaniesResult.companies.number+1)}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(u.a),b.Pb(D),b.Pb(C.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["companies"]],features:[b.Ab],decls:7,vars:1,consts:[[4,"ngIf"],["mainTableTemplate",""],["addButtonTemplate",""],["justify-content","space-between"],[4,"ngTemplateOutlet"],[3,"pageableDefault","prev","next"],["theme","info"],[3,"isWaiting"],["mat-table","mat-table",1,"mat-table",3,"dataSource"],["matColumnDef","uniqueId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","mat-cell",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","mat-cell"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","color","primary","size","forTableRow",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary","routerLink","../add"]],template:function(t,c){1&t&&(b.Ec(0,H,45,5,"ct-section",0),b.Gc(1,"\n\n\n\n"),b.Ec(2,rt,32,4,"ng-template",null,1,b.Fc),b.Gc(4,"\n\n\n\n"),b.Ec(5,lt,4,0,"ng-template",null,2,b.Fc)),2&t&&b.mc("ngIf",c.simpleCompaniesResult)},directives:[n.m,I.a,x.a,S.a,R.a,k.a,M.a,E.a,O.a,n.r,T.a,P.a,q.a,L.a,$.a,l.j,l.c,l.e,l.b,l.g,l.i,l.d,l.a,F.a,a.f,l.f,l.h,F.b,a.d],styles:[""]}),t})();var ut=e("uB0V"),mt=e("I6qf"),pt=e("MI58"),ht=e("kmnG"),Gt=e("qFsG"),ft=e("3Pt+"),gt=e("05qC");const Ut=function(){return["../../companies"]};function Vt(t,c){if(1&t){const t=b.Wb();b.Vb(0,"ct-cols"),b.Gc(1,"\n    "),b.Vb(2,"ct-col",1),b.Gc(3,"\n        "),b.Vb(4,"ct-section"),b.Gc(5,"\n            "),b.Vb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Vb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11,"Edit Company"),b.Ub(),b.Gc(12,"\n                "),b.Ub(),b.Gc(13,"\n            "),b.Ub(),b.Gc(14,"\n            "),b.Vb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Vb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Vb(19,"mat-form-field",2),b.Gc(20,"\n                        "),b.Vb(21,"mat-label"),b.Gc(22,"Name of company"),b.Ub(),b.Gc(23,"\n                        "),b.Vb(24,"input",3),b.cc("ngModelChange",function(c){return b.wc(t),b.gc().name=c}),b.Ub(),b.Gc(25,"\n                        "),b.Vb(26,"mat-hint"),b.Gc(27,"This is a required field."),b.Ub(),b.Gc(28,"\n                    "),b.Ub(),b.Gc(29,"\n                    "),b.Qb(30,"br"),b.Gc(31,"\n                    "),b.Qb(32,"br"),b.Gc(33,"\n                    "),b.Vb(34,"mat-form-field",2),b.Gc(35,"\n                        "),b.Vb(36,"mat-label"),b.Gc(37,"Company's groups"),b.Ub(),b.Gc(38,"\n                        "),b.Vb(39,"input",3),b.cc("ngModelChange",function(c){return b.wc(t),b.gc().groups=c}),b.Ub(),b.Gc(40,"\n                    "),b.Ub(),b.Gc(41,"\n                    "),b.Qb(42,"br"),b.Gc(43,"\n                    "),b.Vb(44,"ct-flex",4),b.Gc(45,"\n                        "),b.Vb(46,"ct-flex-item"),b.Gc(47,"\n                            "),b.Vb(48,"a",5),b.Gc(49,"Cancel"),b.Ub(),b.Gc(50,"\n                        "),b.Ub(),b.Gc(51,"\n                        "),b.Vb(52,"ct-flex-item"),b.Gc(53,"\n                            "),b.Vb(54,"button",6),b.cc("click",function(){return b.wc(t),b.gc().saveChanges()}),b.Gc(55,"Save Changes"),b.Ub(),b.Gc(56,"\n                        "),b.Ub(),b.Gc(57,"\n                    "),b.Ub(),b.Gc(58,"\n                "),b.Ub(),b.Gc(59,"\n            "),b.Ub(),b.Gc(60,"\n        "),b.Ub(),b.Gc(61,"\n    "),b.Ub(),b.Gc(62,"\n    "),b.Vb(63,"ct-col",1),b.Gc(64,"\n        "),b.Qb(65,"ct-rest-status",7),b.Gc(66,"\n    "),b.Ub(),b.Gc(67,"\n"),b.Ub()}if(2&t){const t=b.gc();b.Db(24),b.mc("ngModel",t.name),b.Db(15),b.mc("ngModel",t.groups),b.Db(9),b.mc("routerLink",b.oc(4,Ut)),b.Db(17),b.mc("content",t.operationStatusRest)}}let yt=(()=>{class t{constructor(t,c,e){this.companyService=t,this.activatedRoute=c,this.router=e}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.editCompany(this.companyUniqueId).subscribe(t=>{this.simpleCompanyResult=t,this.name=t.company.name,this.groups=t.companyAccessControl.groups})}saveChanges(){this.companyService.editFormCommitCompany(this.companyUniqueId,this.name,this.groups).subscribe(t=>{t.status===ut.a.OK?this.back():this.operationStatusRest=t})}back(){this.router.navigate(["../../companies"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(D),b.Pb(a.a),b.Pb(a.c))},t.\u0275cmp=b.Jb({type:t,selectors:[["company-edit"]],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline",2,"width","100%"],["matInput","matInput",3,"ngModel","ngModelChange"],["justify-content","flex-end","gap","unit(1)"],["mat-stroked-button","",3,"routerLink"],["mat-flat-button","","color","primary",3,"click"],[3,"content"]],template:function(t,c){1&t&&b.Ec(0,Vt,68,5,"ct-cols",0),2&t&&b.mc("ngIf",c.simpleCompanyResult)},directives:[n.m,mt.a,pt.a,I.a,x.a,S.a,M.a,E.a,O.a,ht.b,ht.f,Gt.b,ft.c,ft.l,ft.o,ht.e,R.a,k.a,F.a,a.f,F.b,gt.a],styles:[""]}),t})();function wt(t,c){1&t&&b.Rb(0)}function vt(t,c){if(1&t&&(b.Vb(0,"ct-flex-item"),b.Gc(1,"\n                    "),b.Ec(2,wt,1,0,"ng-container",18),b.Gc(3,"\n                "),b.Ub()),2&t){b.gc(2);const t=b.uc(3);b.Db(2),b.mc("ngTemplateOutlet",t)}}function Dt(t,c){1&t&&(b.Vb(0,"ct-section-header-row"),b.Gc(1,"\n            "),b.Vb(2,"ct-alert",19),b.Gc(3,"\n                Management of accounts are disabled, assetMode is 'replicated'.\n            "),b.Ub(),b.Gc(4,"\n        "),b.Ub())}function Ct(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"ID "),b.Ub())}function It(t,c){if(1&t&&(b.Vb(0,"td",21),b.Gc(1),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("",t.id," ")}}function xt(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"Is enabled "),b.Ub())}function St(t,c){if(1&t&&(b.Vb(0,"td",21),b.Gc(1),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("",t.enabled?"Yes":"No"," ")}}function Rt(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"Login "),b.Ub())}function kt(t,c){if(1&t&&(b.Vb(0,"td",21),b.Gc(1),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("",t.username," ")}}function Mt(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"Public name "),b.Ub())}function Et(t,c){if(1&t&&(b.Vb(0,"td",21),b.Gc(1),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("",t.publicName," ")}}function Ot(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"Roles"),b.Ub())}function Tt(t,c){if(1&t&&(b.Vb(0,"td",21),b.Gc(1),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("",t.roles," ")}}function Pt(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"Created On "),b.Ub())}function qt(t,c){if(1&t&&(b.Vb(0,"td",21),b.Gc(1),b.hc(2,"date"),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("\n                            ",b.jc(2,1,t.createdOn,"HH:mm:ss, MMM\xa0d,\xa0yyyy")," ")}}function Lt(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1," "),b.Ub())}const $t=function(t){return["../","account",t,"edit"]},Ft=function(t){return["../","account",t,"edit-roles"]},jt=function(t){return["../","account",t,"edit-password"]};function _t(t,c){if(1&t&&(b.Vb(0,"ct-flex",23),b.Gc(1,"\n                                "),b.Vb(2,"ct-flex-item"),b.Gc(3,"\n                                    "),b.Vb(4,"a",24),b.Gc(5," Edit"),b.Ub(),b.Gc(6,"\n                                "),b.Ub(),b.Gc(7,"\n                                "),b.Vb(8,"ct-flex-item"),b.Gc(9,"\n                                    "),b.Vb(10,"a",24),b.Gc(11,"Roles"),b.Ub(),b.Gc(12,"\n                                "),b.Ub(),b.Gc(13,"\n                                "),b.Vb(14,"ct-flex-item"),b.Gc(15,"\n                                    "),b.Vb(16,"a",24),b.Gc(17,"\n                                        Change Password"),b.Ub(),b.Gc(18,"\n                                "),b.Ub(),b.Gc(19,"\n                            "),b.Ub()),2&t){const t=b.gc().$implicit;b.Db(4),b.mc("routerLink",b.pc(3,$t,t.id)),b.Db(6),b.mc("routerLink",b.pc(5,Ft,t.id)),b.Db(6),b.mc("routerLink",b.pc(7,jt,t.id))}}function Nt(t,c){if(1&t&&(b.Vb(0,"td",21),b.Gc(1,"\n                            "),b.Ec(2,_t,20,9,"ct-flex",22),b.Gc(3,"\n                        "),b.Ub()),2&t){const t=b.gc(2);b.Db(2),b.mc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.accountsResult.assetMode))}}function At(t,c){1&t&&(b.Vb(0,"tr",25),b.Gc(1," "),b.Ub())}function Qt(t,c){1&t&&(b.Vb(0,"tr",26),b.Gc(1," "),b.Ub())}function Wt(t,c){1&t&&b.Rb(0)}function Ht(t,c){if(1&t&&(b.Vb(0,"ct-flex-item"),b.Gc(1,"\n                    "),b.Ec(2,Wt,1,0,"ng-container",18),b.Gc(3,"\n                "),b.Ub()),2&t){b.gc(2);const t=b.uc(3);b.Db(2),b.mc("ngTemplateOutlet",t)}}function zt(t,c){if(1&t){const t=b.Wb();b.Vb(0,"ct-section"),b.Gc(1,"\n    "),b.Vb(2,"ct-section-header"),b.Gc(3,"\n        "),b.Vb(4,"ct-section-header-row"),b.Gc(5,"\n            "),b.Vb(6,"ct-flex",2),b.Gc(7,"\n                "),b.Vb(8,"ct-flex-item"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11,"Accounts"),b.Ub(),b.Gc(12,"\n                "),b.Ub(),b.Gc(13,"\n                "),b.Ec(14,vt,4,1,"ct-flex-item",0),b.Gc(15,"\n            "),b.Ub(),b.Gc(16,"\n        "),b.Ub(),b.Gc(17,"\n        "),b.Ec(18,Dt,5,0,"ct-section-header-row",0),b.Gc(19,"\n    "),b.Ub(),b.Gc(20,"\n    "),b.Vb(21,"ct-section-body"),b.Gc(22,"\n        "),b.Vb(23,"ct-section-body-row"),b.Gc(24,"\n            "),b.Vb(25,"ct-table",3),b.Gc(26,"\n                "),b.Vb(27,"table",4),b.Gc(28,"\n                    "),b.Tb(29,5),b.Gc(30,"\n                        "),b.Ec(31,Ct,2,0,"th",6),b.Gc(32,"\n                        "),b.Ec(33,It,2,1,"td",7),b.Gc(34,"\n                    "),b.Sb(),b.Gc(35,"\n                    "),b.Tb(36,8),b.Gc(37,"\n                        "),b.Ec(38,xt,2,0,"th",6),b.Gc(39,"\n                        "),b.Ec(40,St,2,1,"td",7),b.Gc(41,"\n                    "),b.Sb(),b.Gc(42,"\n                    "),b.Tb(43,9),b.Gc(44,"\n                        "),b.Ec(45,Rt,2,0,"th",6),b.Gc(46,"\n                        "),b.Ec(47,kt,2,1,"td",7),b.Gc(48,"\n                    "),b.Sb(),b.Gc(49,"\n                    "),b.Tb(50,10),b.Gc(51,"\n                        "),b.Ec(52,Mt,2,0,"th",6),b.Gc(53,"\n                        "),b.Ec(54,Et,2,1,"td",7),b.Gc(55,"\n                    "),b.Sb(),b.Gc(56,"\n                    "),b.Tb(57,11),b.Gc(58,"\n                        "),b.Ec(59,Ot,2,0,"th",6),b.Gc(60,"\n                        "),b.Ec(61,Tt,2,1,"td",7),b.Gc(62,"\n                    "),b.Sb(),b.Gc(63,"\n                    "),b.Tb(64,12),b.Gc(65,"\n                        "),b.Ec(66,Pt,2,0,"th",6),b.Gc(67,"\n                        "),b.Ec(68,qt,3,4,"td",7),b.Gc(69,"\n                    "),b.Sb(),b.Gc(70,"\n                    "),b.Tb(71,13),b.Gc(72,"\n                        "),b.Ec(73,Lt,2,0,"th",6),b.Gc(74,"\n                        "),b.Ec(75,Nt,4,1,"td",7),b.Gc(76,"\n                    "),b.Sb(),b.Gc(77,"\n                    "),b.Ec(78,At,2,0,"tr",14),b.Gc(79,"\n                    "),b.Ec(80,Qt,2,0,"tr",15),b.Gc(81,"\n                "),b.Ub(),b.Gc(82,"\n            "),b.Ub(),b.Gc(83,"\n        "),b.Ub(),b.Gc(84,"\n    "),b.Ub(),b.Gc(85,"\n    "),b.Vb(86,"ct-section-footer"),b.Gc(87,"\n        "),b.Vb(88,"ct-section-footer-row"),b.Gc(89,"\n            "),b.Vb(90,"ct-flex",2),b.Gc(91,"\n                "),b.Vb(92,"ct-flex-item"),b.Gc(93,"\n                    "),b.Vb(94,"ct-flex",16),b.Gc(95,"\n                        "),b.Vb(96,"ct-table-pagination",17),b.cc("prev",function(){return b.wc(t),b.gc().prevPage()})("next",function(){return b.wc(t),b.gc().nextPage()}),b.Ub(),b.Gc(97,"\n                    "),b.Ub(),b.Gc(98,"\n                "),b.Ub(),b.Gc(99,"\n                "),b.Ec(100,Ht,4,1,"ct-flex-item",0),b.Gc(101,"\n            "),b.Ub(),b.Gc(102,"\n        "),b.Ub(),b.Gc(103,"\n    "),b.Ub(),b.Gc(104,"\n"),b.Ub()}if(2&t){const t=b.gc();b.Db(14),b.mc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.accountsResult.assetMode)),b.Db(4),b.mc("ngIf",t.dispatcherAssetModeService.isReplicated(t.accountsResult.assetMode)),b.Db(7),b.mc("isWaiting",t.isLoading),b.Db(2),b.mc("dataSource",t.dataSource),b.Db(51),b.mc("matHeaderRowDef",t.columnsToDisplay),b.Db(2),b.mc("matRowDefColumns",t.columnsToDisplay),b.Db(16),b.mc("pageableDefault",t.accountsResult.accounts),b.Db(4),b.mc("ngIf",!t.dispatcherAssetModeService.isReplicated(t.accountsResult.assetMode))}}const Bt=function(){return["../","account","add"]};function Jt(t,c){1&t&&(b.Gc(0,"\n    "),b.Vb(1,"button",27),b.Gc(2,"\n        Add New Account\n    "),b.Ub(),b.Gc(3,"\n")),2&t&&(b.Db(1),b.mc("routerLink",b.oc(1,Bt)))}let Xt=(()=>{class t extends d.a{constructor(t,c,e,n){super(n),this.companyService=t,this.activatedRoute=c,this.dispatcherAssetModeService=e,this.authenticationService=n,this.dataSource=new l.k([]),this.columnsToDisplay=["id","isEnabled","login","publicName","role","createdOn","bts"]}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.updateTable(0)}updateTable(t){this.setIsLoadingStart(),this.companyService.accounts(t.toString(),this.companyUniqueId).subscribe({next:t=>{this.accountsResult=t,this.dataSource=new l.k(this.accountsResult.accounts.content||[])},complete:()=>{this.setIsLoadingEnd()}})}nextPage(){this.updateTable(this.accountsResult.accounts.number+1)}prevPage(){this.updateTable(this.accountsResult.accounts.number-1)}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(D),b.Pb(a.a),b.Pb(C.a),b.Pb(u.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["accounts"]],features:[b.Ab],decls:4,vars:1,consts:[[4,"ngIf"],["addButtonTemplate",""],["justify-content","space-between"],[3,"isWaiting"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","isEnabled"],["matColumnDef","login"],["matColumnDef","publicName"],["matColumnDef","role"],["matColumnDef","createdOn"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["justify-content","flex-start","gap","8px"],[3,"pageableDefault","prev","next"],[4,"ngTemplateOutlet"],["theme","info"],["mat-header-cell",""],["mat-cell",""],["justify-content","flex-end","gap","9px",4,"ngIf"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,c){1&t&&(b.Ec(0,zt,105,8,"ct-section",0),b.Gc(1,"\n\n\n"),b.Ec(2,Jt,4,2,"ng-template",null,1,b.Fc)),2&t&&b.mc("ngIf",c.accountsResult)},directives:[n.m,I.a,x.a,S.a,R.a,k.a,M.a,E.a,O.a,$.a,l.j,l.c,l.e,l.b,l.g,l.i,T.a,P.a,q.a,n.r,L.a,l.d,l.a,F.a,a.f,l.f,l.h,F.b,a.d],pipes:[n.e],styles:[""]}),t})();const Kt=function(){return["../companies"]};let Yt=(()=>{class t{constructor(t,c,e){this.companyService=t,this.router=c,this.activatedRoute=e,this.form=new ft.f({name:new ft.d("",[ft.q.required,ft.q.minLength(1)])})}createCompany(){this.companyService.addFormCommitCompany(this.form.value.name).subscribe(t=>{t.status===ut.a.OK?this.back():this.operationStatusRest=t})}back(){this.router.navigate(["../","companies"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(D),b.Pb(a.c),b.Pb(a.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["company-add"]],decls:56,vars:5,consts:[["size","6"],[3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","formControlName","name"],["justify-content","flex-end","gap","unit(1)"],["mat-stroked-button","",3,"routerLink"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"content"]],template:function(t,c){1&t&&(b.Vb(0,"ct-cols"),b.Gc(1,"\n    "),b.Vb(2,"ct-col",0),b.Gc(3,"\n        "),b.Vb(4,"ct-section"),b.Gc(5,"\n            "),b.Vb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Vb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11,"New Company"),b.Ub(),b.Gc(12,"\n                "),b.Ub(),b.Gc(13,"\n            "),b.Ub(),b.Gc(14,"\n            "),b.Vb(15,"ct-section-body",1),b.Gc(16,"\n                "),b.Vb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Vb(19,"mat-form-field",2),b.Gc(20,"\n                        "),b.Vb(21,"mat-label"),b.Gc(22,"Name of company"),b.Ub(),b.Gc(23,"\n                        "),b.Qb(24,"input",3),b.Gc(25,"\n                        "),b.Vb(26,"mat-hint"),b.Gc(27,"This is a required field."),b.Ub(),b.Gc(28,"\n                    "),b.Ub(),b.Gc(29,"\n                    "),b.Qb(30,"br"),b.Gc(31,"\n                    "),b.Vb(32,"ct-flex",4),b.Gc(33,"\n                        "),b.Vb(34,"ct-flex-item"),b.Gc(35,"\n                            "),b.Vb(36,"a",5),b.Gc(37,"Cancel"),b.Ub(),b.Gc(38,"\n                        "),b.Ub(),b.Gc(39,"\n                        "),b.Vb(40,"ct-flex-item"),b.Gc(41,"\n                            "),b.Vb(42,"button",6),b.cc("click",function(){return c.createCompany()}),b.Gc(43,"Create\n                                Company"),b.Ub(),b.Gc(44,"\n                        "),b.Ub(),b.Gc(45,"\n                    "),b.Ub(),b.Gc(46,"\n                "),b.Ub(),b.Gc(47,"\n            "),b.Ub(),b.Gc(48,"\n        "),b.Ub(),b.Gc(49,"\n    "),b.Ub(),b.Gc(50,"\n    "),b.Vb(51,"ct-col",0),b.Gc(52,"\n        "),b.Qb(53,"ct-rest-status",7),b.Gc(54,"\n    "),b.Ub(),b.Gc(55,"\n"),b.Ub()),2&t&&(b.Db(15),b.mc("formGroup",c.form),b.Db(21),b.mc("routerLink",b.oc(4,Kt)),b.Db(6),b.mc("disabled",c.form.invalid),b.Db(11),b.mc("content",c.operationStatusRest))},directives:[mt.a,pt.a,I.a,x.a,S.a,M.a,E.a,ft.m,ft.g,O.a,ht.b,ht.f,Gt.b,ft.c,ft.l,ft.e,ht.e,R.a,k.a,F.a,a.f,F.b,gt.a],styles:[""]}),t})(),Zt=(()=>{class t{constructor(t,c,e){this.activatedRoute=t,this.companyService=c,this.router=e,this.form=new ft.f({publicName:new ft.d("",[ft.q.required,ft.q.minLength(3)]),username:new ft.d("",[ft.q.required,ft.q.minLength(3)]),password:new ft.d("",[ft.q.required,ft.q.minLength(3)]),password2:new ft.d("",[ft.q.required,ft.q.minLength(3),t=>{const c=this.form;return c?c.value.password===t.value?null:{notSame:!0}:null}])})}ngOnInit(){this.isDone=!1,this.isLoading=!0,this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.isLoading=!1}back(){this.router.navigate(["../../","accounts"],{relativeTo:this.activatedRoute})}createAccount(){this.isLoading=!0,this.companyService.addFormCommitNewAccount({username:this.form.value.username,password:this.form.value.password,password2:this.form.value.password2,publicName:this.form.value.publicName},this.companyUniqueId).subscribe({next:t=>this.operationStatusRest=t,complete:()=>{this.operationStatusRest.status===ut.a.OK&&(this.isDone=!0,this.form.reset()),this.isLoading=!1}})}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(a.a),b.Pb(D),b.Pb(a.c))},t.\u0275cmp=b.Jb({type:t,selectors:[["account-add"]],decls:108,vars:3,consts:[["align-items","baseline"],["size","6"],["novalidate","novalidate","autocomplete","off",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","text","autocomplete","name","formControlName","username"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password2"],["matInput","matInput","type","text","autocomplete","name","formControlName","publicName"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"]],template:function(t,c){1&t&&(b.Vb(0,"ct-cols",0),b.Gc(1,"\n    "),b.Vb(2,"ct-col",1),b.Gc(3,"\n        "),b.Vb(4,"ct-section"),b.Gc(5,"\n            "),b.Vb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Vb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11,"New Account"),b.Ub(),b.Gc(12,"\n                "),b.Ub(),b.Gc(13,"\n            "),b.Ub(),b.Gc(14,"\n            "),b.Vb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Vb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Vb(19,"form",2),b.Gc(20,"\n                        "),b.Vb(21,"mat-form-field",3),b.Gc(22,"\n                            "),b.Vb(23,"mat-label"),b.Gc(24,"Name"),b.Ub(),b.Gc(25,"\n                            "),b.Qb(26,"input",4),b.Gc(27,"\n                            "),b.Vb(28,"mat-hint"),b.Gc(29,"This is a required field."),b.Ub(),b.Gc(30,"\n                        "),b.Ub(),b.Gc(31,"\n                        "),b.Qb(32,"br"),b.Gc(33,"\n                        "),b.Qb(34,"br"),b.Gc(35,"\n                        "),b.Vb(36,"mat-form-field",3),b.Gc(37,"\n                            "),b.Vb(38,"mat-label"),b.Gc(39,"Password"),b.Ub(),b.Gc(40,"\n                            "),b.Qb(41,"input",5),b.Gc(42,"\n                            "),b.Vb(43,"mat-hint"),b.Gc(44,"This is a required field."),b.Ub(),b.Gc(45,"\n                        "),b.Ub(),b.Gc(46,"\n                        "),b.Qb(47,"br"),b.Gc(48,"\n                        "),b.Qb(49,"br"),b.Gc(50,"\n                        "),b.Vb(51,"mat-form-field",3),b.Gc(52,"\n                            "),b.Vb(53,"mat-label"),b.Gc(54,"Password again"),b.Ub(),b.Gc(55,"\n                            "),b.Qb(56,"input",6),b.Gc(57,"\n                            "),b.Vb(58,"mat-hint"),b.Gc(59,"This is a required field."),b.Ub(),b.Gc(60,"\n                        "),b.Ub(),b.Gc(61,"\n                        "),b.Qb(62,"br"),b.Gc(63,"\n                        "),b.Qb(64,"br"),b.Gc(65,"\n                        "),b.Vb(66,"mat-form-field",3),b.Gc(67,"\n                            "),b.Vb(68,"mat-label"),b.Gc(69,"Public Name"),b.Ub(),b.Gc(70,"\n                            "),b.Qb(71,"input",7),b.Gc(72,"\n                            "),b.Vb(73,"mat-hint"),b.Gc(74,"This is a required field."),b.Ub(),b.Gc(75,"\n                        "),b.Ub(),b.Gc(76,"\n                    "),b.Ub(),b.Gc(77,"\n                "),b.Ub(),b.Gc(78,"\n            "),b.Ub(),b.Gc(79,"\n            "),b.Vb(80,"ct-section-footer"),b.Gc(81,"\n                "),b.Vb(82,"ct-section-footer-row"),b.Gc(83,"\n                    "),b.Vb(84,"ct-flex",8),b.Gc(85,"\n                        "),b.Vb(86,"ct-flex-item"),b.Gc(87,"\n                            "),b.Vb(88,"button",9),b.cc("click",function(){return c.back()}),b.Gc(89,"Cancel"),b.Ub(),b.Gc(90,"\n                        "),b.Ub(),b.Gc(91,"\n                        "),b.Vb(92,"ct-flex-item"),b.Gc(93,"\n                            "),b.Vb(94,"button",10),b.cc("click",function(){return c.createAccount()}),b.Gc(95,"Create Account"),b.Ub(),b.Gc(96,"\n                        "),b.Ub(),b.Gc(97,"\n                    "),b.Ub(),b.Gc(98,"\n                "),b.Ub(),b.Gc(99,"\n            "),b.Ub(),b.Gc(100,"\n        "),b.Ub(),b.Gc(101,"\n    "),b.Ub(),b.Gc(102,"\n    "),b.Vb(103,"ct-col",1),b.Gc(104,"\n        "),b.Qb(105,"ct-rest-status",11),b.Gc(106,"\n    "),b.Ub(),b.Gc(107,"\n"),b.Ub()),2&t&&(b.Db(19),b.mc("formGroup",c.form),b.Db(75),b.mc("disabled",c.isDone||c.isLoading||c.form.invalid),b.Db(11),b.mc("content",c.operationStatusRest))},directives:[mt.a,pt.a,I.a,x.a,S.a,M.a,E.a,O.a,ft.r,ft.m,ft.g,ht.b,ht.f,Gt.b,ft.c,ft.l,ft.e,ht.e,T.a,P.a,R.a,k.a,F.b,gt.a],styles:[""]}),t})();var tc=e("bSwM");function cc(t,c){if(1&t){const t=b.Wb();b.Vb(0,"ct-cols",1),b.Gc(1,"\n    "),b.Vb(2,"ct-col",2),b.Gc(3,"\n        "),b.Vb(4,"ct-section"),b.Gc(5,"\n            "),b.Vb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Vb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11),b.Ub(),b.Gc(12,"\n                "),b.Ub(),b.Gc(13,"\n            "),b.Ub(),b.Gc(14,"\n            "),b.Vb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Vb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Vb(19,"mat-form-field",3),b.Gc(20,"\n                        "),b.Vb(21,"mat-label"),b.Gc(22,"Username"),b.Ub(),b.Gc(23,"\n                        "),b.Qb(24,"input",4),b.Gc(25,"\n                    "),b.Ub(),b.Gc(26,"\n                    "),b.Vb(27,"mat-form-field",5),b.Gc(28,"\n                        "),b.Vb(29,"mat-label"),b.Gc(30,"Public Name"),b.Ub(),b.Gc(31,"\n                        "),b.Vb(32,"input",6),b.cc("ngModelChange",function(c){return b.wc(t),b.gc().publicName=c}),b.Ub(),b.Gc(33,"\n                    "),b.Ub(),b.Gc(34,"\n                    "),b.Qb(35,"br"),b.Gc(36,"\n                    "),b.Vb(37,"mat-checkbox",7),b.cc("ngModelChange",function(c){return b.wc(t),b.gc().isEnabled=c}),b.Gc(38,"Is account enabled?"),b.Ub(),b.Gc(39,"\n                "),b.Ub(),b.Gc(40,"\n            "),b.Ub(),b.Gc(41,"\n            "),b.Vb(42,"ct-section-footer"),b.Gc(43,"\n                "),b.Vb(44,"ct-section-footer-row"),b.Gc(45,"\n                    "),b.Vb(46,"ct-flex",8),b.Gc(47,"\n                        "),b.Vb(48,"ct-flex-item"),b.Gc(49,"\n                            "),b.Vb(50,"button",9),b.cc("click",function(){return b.wc(t),b.gc().back()}),b.Gc(51,"Cancel"),b.Ub(),b.Gc(52,"\n                        "),b.Ub(),b.Gc(53,"\n                        "),b.Vb(54,"ct-flex-item"),b.Gc(55,"\n                            "),b.Vb(56,"button",10),b.cc("click",function(){return b.wc(t),b.gc().saveChanges()}),b.Gc(57,"Save Changes"),b.Ub(),b.Gc(58,"\n                        "),b.Ub(),b.Gc(59,"\n                    "),b.Ub(),b.Gc(60,"\n                "),b.Ub(),b.Gc(61,"\n            "),b.Ub(),b.Gc(62,"\n        "),b.Ub(),b.Gc(63,"\n    "),b.Ub(),b.Gc(64,"\n    "),b.Vb(65,"ct-col",2),b.Gc(66,"\n        "),b.Qb(67,"ct-rest-status",11),b.Gc(68,"\n    "),b.Ub(),b.Gc(69,"\n"),b.Ub()}if(2&t){const t=b.gc();b.Db(11),b.Ic("Edit Account #",t.accountId," "),b.Db(13),b.mc("value",t.accountResult.account.username),b.Db(8),b.mc("ngModel",t.publicName),b.Db(5),b.mc("ngModel",t.isEnabled)}}let ec=(()=>{class t{constructor(t,c,e){this.companyService=t,this.activatedRoute=c,this.router=e}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.accountId=this.activatedRoute.snapshot.paramMap.get("accountId"),this.companyService.edit(this.companyUniqueId,this.accountId).subscribe(t=>{this.accountResult=t,this.username=t.account.username,this.publicName=t.account.publicName,this.isEnabled=t.account.enabled})}back(){this.router.navigate(["../../../","accounts"],{relativeTo:this.activatedRoute})}saveChanges(){this.companyService.editFormCommit(this.accountId,this.publicName,this.isEnabled,this.companyUniqueId).subscribe(t=>{t.status===ut.a.OK?this.back():this.operationStatusRest=t})}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(D),b.Pb(a.a),b.Pb(a.c))},t.\u0275cmp=b.Jb({type:t,selectors:[["account-edit"]],decls:1,vars:1,consts:[["align-items","baseline",4,"ngIf"],["align-items","baseline"],["size","6"],["appearance","outline","disabled","",2,"width","100%"],["matInput","","disabled","",3,"value"],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[3,"content"]],template:function(t,c){1&t&&b.Ec(0,cc,70,4,"ct-cols",0),2&t&&b.mc("ngIf",c.accountResult)},directives:[n.m,mt.a,pt.a,I.a,x.a,S.a,M.a,E.a,O.a,ht.b,ht.f,Gt.b,ft.c,ft.l,ft.o,tc.a,T.a,P.a,R.a,k.a,F.b,gt.a],styles:[""]}),t})();function nc(t,c){if(1&t){const t=b.Wb();b.Vb(0,"ct-cols",1),b.Gc(1,"\n    "),b.Vb(2,"ct-col",2),b.Gc(3,"\n        "),b.Vb(4,"ct-section"),b.Gc(5,"\n            "),b.Vb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Vb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11,"Edit Account "),b.Ub(),b.Gc(12,"\n                "),b.Ub(),b.Gc(13,"\n            "),b.Ub(),b.Gc(14,"\n            "),b.Vb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Vb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Vb(19,"form",3),b.Gc(20,"\n                        "),b.Vb(21,"mat-form-field",4),b.Gc(22,"\n                            "),b.Vb(23,"mat-label"),b.Gc(24,"Password"),b.Ub(),b.Gc(25,"\n                            "),b.Qb(26,"input",5),b.Gc(27,"\n                            "),b.Vb(28,"mat-hint"),b.Gc(29,"This is a required field."),b.Ub(),b.Gc(30,"\n                        "),b.Ub(),b.Gc(31,"\n                        "),b.Qb(32,"br"),b.Gc(33,"\n                        "),b.Qb(34,"br"),b.Gc(35,"\n                        "),b.Vb(36,"mat-form-field",4),b.Gc(37,"\n                            "),b.Vb(38,"mat-label"),b.Gc(39,"Password again"),b.Ub(),b.Gc(40,"\n                            "),b.Qb(41,"input",6),b.Gc(42,"\n                            "),b.Vb(43,"mat-hint"),b.Gc(44,"This is a required field."),b.Ub(),b.Gc(45,"\n                        "),b.Ub(),b.Gc(46,"\n                    "),b.Ub(),b.Gc(47,"\n                "),b.Ub(),b.Gc(48,"\n            "),b.Ub(),b.Gc(49,"\n            "),b.Vb(50,"ct-section-footer"),b.Gc(51,"\n                "),b.Vb(52,"ct-section-footer-row"),b.Gc(53,"\n                    "),b.Vb(54,"ct-flex",7),b.Gc(55,"\n                        "),b.Vb(56,"ct-flex-item"),b.Gc(57,"\n                            "),b.Vb(58,"button",8),b.cc("click",function(){return b.wc(t),b.gc().back()}),b.Gc(59,"Cancel"),b.Ub(),b.Gc(60,"\n                        "),b.Ub(),b.Gc(61,"\n                        "),b.Vb(62,"ct-flex-item"),b.Gc(63,"\n                            "),b.Vb(64,"button",9),b.cc("click",function(){return b.wc(t),b.gc().saveChanges()}),b.Gc(65,"Save"),b.Ub(),b.Gc(66,"\n                        "),b.Ub(),b.Gc(67,"\n                    "),b.Ub(),b.Gc(68,"\n                "),b.Ub(),b.Gc(69,"\n            "),b.Ub(),b.Gc(70,"\n        "),b.Ub(),b.Gc(71,"\n    "),b.Ub(),b.Gc(72,"\n    "),b.Vb(73,"ct-col",2),b.Gc(74,"\n        "),b.Qb(75,"ct-rest-status",10),b.Gc(76,"\n    "),b.Ub(),b.Gc(77,"\n"),b.Ub()}if(2&t){const t=b.gc();b.Db(19),b.mc("formGroup",t.form),b.Db(45),b.mc("disabled",t.isLoading),b.Db(11),b.mc("content",t.operationStatusRest)}}let ac=(()=>{class t{constructor(t,c,e){this.activatedRoute=t,this.companyService=c,this.router=e,this.form=new ft.f({password:new ft.d("",[ft.q.required,ft.q.minLength(3)]),password2:new ft.d("",[ft.q.required,ft.q.minLength(3),t=>{const c=this.form;return c?c.value.password===t.value?null:{notSame:!0}:null}])})}ngOnInit(){this.isLoading=!0,this.accoundId=this.activatedRoute.snapshot.paramMap.get("accountId"),this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.passwordEdit(this.accoundId,this.companyUniqueId).subscribe({next:t=>this.accountResult=t,complete:()=>this.isLoading=!1})}back(){this.router.navigate(["../../../","accounts"],{relativeTo:this.activatedRoute})}saveChanges(){this.isLoading=!0,this.companyService.passwordEditFormCommit(this.accoundId,this.form.value.password,this.form.value.password2,this.companyUniqueId).subscribe({next:t=>this.operationStatusRest=t,complete:()=>this.isLoading=!1})}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(a.a),b.Pb(D),b.Pb(a.c))},t.\u0275cmp=b.Jb({type:t,selectors:[["account-edit-password"]],decls:1,vars:1,consts:[["align-items","baseline",4,"ngIf"],["align-items","baseline"],["size","6"],["novalidate","novalidate","autocomplete","off",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password"],["matInput","matInput","type","password","autocomplete","new-password","formControlName","password2"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"]],template:function(t,c){1&t&&b.Ec(0,nc,78,3,"ct-cols",0),2&t&&b.mc("ngIf",c.accountResult)},directives:[n.m,mt.a,pt.a,I.a,x.a,S.a,M.a,E.a,O.a,ft.r,ft.m,ft.g,ht.b,ht.f,Gt.b,ft.c,ft.l,ft.e,ht.e,T.a,P.a,R.a,k.a,F.b,gt.a],styles:[""]}),t})();function oc(t,c){if(1&t){const t=b.Wb();b.Vb(0,"div",4),b.Gc(1,"\n                        "),b.Vb(2,"mat-checkbox",5),b.cc("ngModelChange",function(t){return c.$implicit.value=t})("change",function(){b.wc(t);const e=c.$implicit;return b.gc(2).save(e)}),b.Gc(3),b.Ub(),b.Gc(4,"\n                    "),b.Ub()}if(2&t){const t=c.$implicit,e=b.gc(2);b.Db(2),b.mc("ngModel",t.value)("disabled",e.isLoading),b.Db(1),b.Ic("",t.key,"\n                        ")}}function ic(t,c){if(1&t&&(b.Vb(0,"ct-cols"),b.Gc(1,"\n    "),b.Vb(2,"ct-col",1),b.Gc(3,"\n        "),b.Vb(4,"ct-section"),b.Gc(5,"\n            "),b.Vb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Vb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11),b.Ub(),b.Gc(12,"\n                "),b.Ub(),b.Gc(13,"\n            "),b.Ub(),b.Gc(14,"\n            "),b.Vb(15,"ct-section-body"),b.Gc(16,"\n                "),b.Vb(17,"ct-section-body-row"),b.Gc(18,"\n                    "),b.Ec(19,oc,5,3,"div",2),b.hc(20,"keyvalue"),b.Gc(21,"\n                "),b.Ub(),b.Gc(22,"\n            "),b.Ub(),b.Gc(23,"\n        "),b.Ub(),b.Gc(24,"\n    "),b.Ub(),b.Gc(25,"\n    "),b.Vb(26,"ct-col",1),b.Gc(27,"\n        "),b.Qb(28,"ct-rest-status",3),b.Gc(29,"\n    "),b.Ub(),b.Gc(30,"\n"),b.Ub()),2&t){const t=b.gc();b.Db(11),b.Ic("\n                        Edit Account #",t.accountId," Roles\n                    "),b.Db(8),b.mc("ngForOf",b.ic(20,3,t.roleModel)),b.Db(9),b.mc("content",t.operationStatusRest)}}let sc=(()=>{class t{constructor(t,c){this.companyService=t,this.activatedRoute=c,this.roleModel=new Map}ngOnInit(){this.isLoading=!0,this.accountId=this.activatedRoute.snapshot.paramMap.get("accountId"),this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.editRoles(this.accountId,this.companyUniqueId).subscribe(t=>{this.accountWithRoleResult=t,this.accountWithRoleResult.possibleRoles.forEach(t=>this.roleModel.set(t,!1)),this.accountWithRoleResult.account.authorities.forEach(t=>{this.roleModel.has(t.authority)&&this.roleModel.set(t.authority,!0)}),this.isLoading=!1})}save(t){this.isLoading=!0,this.companyService.rolesEditFormCommit(this.accountId,t.key,t.value,this.companyUniqueId).subscribe(t=>{this.operationStatusRest=t,this.isLoading=!1})}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(D),b.Pb(a.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["account-edit-roles"]],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["style","margin: 0.5em 0",4,"ngFor","ngForOf"],[3,"content"],[2,"margin","0.5em 0"],[3,"ngModel","disabled","ngModelChange","change"]],template:function(t,c){1&t&&b.Ec(0,ic,31,5,"ct-cols",0),2&t&&b.mc("ngIf",c.accountWithRoleResult)},directives:[n.m,mt.a,pt.a,I.a,x.a,S.a,M.a,E.a,O.a,n.l,gt.a,tc.a,ft.l,ft.o],pipes:[n.g],styles:[""]}),t})();var bc=e("IRPT");function rc(t,c){if(1&t&&(b.Vb(0,"ct-section"),b.Gc(1,"\n    "),b.Vb(2,"ct-section-header"),b.Gc(3,"\n        "),b.Vb(4,"ct-section-header-row"),b.Gc(5,"\n            "),b.Vb(6,"ct-heading"),b.Gc(7),b.Ub(),b.Gc(8,"\n        "),b.Ub(),b.Gc(9,"\n    "),b.Ub(),b.Gc(10,"\n    "),b.Vb(11,"ct-section-body"),b.Gc(12,"\n        "),b.Vb(13,"ct-section-body-row"),b.Gc(14,"\n            "),b.Vb(15,"ct-pre"),b.Gc(16),b.Ub(),b.Gc(17,"\n        "),b.Ub(),b.Gc(18,"\n    "),b.Ub(),b.Gc(19,"\n"),b.Ub()),2&t){const t=b.gc();b.Db(7),b.Ic("Batch #",null==t.batchDataStatus?null:t.batchDataStatus.batchId,""),b.Db(9),b.Hc(null==t.batchDataStatus?null:t.batchDataStatus.console)}}let lc=(()=>{class t{constructor(t,c){this.companyService=t,this.activatedRoute=c}ngOnInit(){this.isLoading=!0,this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.batchId=this.activatedRoute.snapshot.paramMap.get("batchId"),this.companyService.getBatchStatus(this.companyUniqueId,this.batchId).subscribe({next:t=>this.batchDataStatus=t,error:()=>this.isLoading=!1,complete:()=>this.isLoading=!1})}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(D),b.Pb(a.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["company-batch-status"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,c){1&t&&b.Ec(0,rc,20,2,"ct-section",0),2&t&&b.mc("ngIf",!c.isLoading)},directives:[n.m,I.a,x.a,S.a,M.a,E.a,O.a,bc.a],styles:[""]}),t})();var dc=e("MbdJ"),uc=e("d3UM"),mc=e("PVyz"),pc=e("FKr1");const hc=["fileUpload"];function Gc(t,c){if(1&t&&(b.Vb(0,"div"),b.Gc(1,"\n                                "),b.Vb(2,"mat-option",11),b.Gc(3),b.Ub(),b.Gc(4,"\n                            "),b.Ub()),2&t){const t=c.$implicit;b.Db(2),b.mc("value",t),b.Db(1),b.Hc(t.uid)}}function fc(t,c){if(1&t){const t=b.Wb();b.Vb(0,"ct-cols"),b.Gc(1,"\n    "),b.Vb(2,"ct-col",1),b.Gc(3,"\n        "),b.Vb(4,"ct-section"),b.Gc(5,"\n            "),b.Vb(6,"ct-section-header"),b.Gc(7,"\n                "),b.Vb(8,"ct-section-header-row"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11),b.hc(12,"translate"),b.Ub(),b.Gc(13,"\n                "),b.Ub(),b.Gc(14,"\n            "),b.Ub(),b.Gc(15,"\n            "),b.Vb(16,"ct-section-body"),b.Gc(17,"\n                "),b.Vb(18,"ct-section-body-row"),b.Gc(19,"\n                    "),b.Vb(20,"mat-form-field",2),b.Gc(21,"\n                        "),b.Vb(22,"mat-label"),b.Gc(23),b.hc(24,"translate"),b.Ub(),b.Gc(25,"\n                        "),b.Vb(26,"mat-select",3),b.cc("ngModelChange",function(c){return b.wc(t),b.gc().sourceCode=c}),b.Gc(27,"\n                            "),b.Ec(28,Gc,5,2,"div",4),b.Gc(29,"\n                        "),b.Ub(),b.Gc(30,"\n                        "),b.Vb(31,"mat-hint"),b.Gc(32),b.hc(33,"translate"),b.Ub(),b.Gc(34,"\n                    "),b.Ub(),b.Gc(35,"\n\n                    "),b.Qb(36,"br"),b.Gc(37,"\n                    "),b.Qb(38,"br"),b.Gc(39,"\n\n                    "),b.Vb(40,"div"),b.Gc(41,"\n                        "),b.Vb(42,"ct-file-upload",5,6),b.cc("changed",function(){return b.wc(t),b.gc().fileUploadChanged()}),b.hc(44,"translate"),b.Gc(45,"\n                        "),b.Ub(),b.Gc(46,"\n                        "),b.Vb(47,"ct-hint"),b.Gc(48),b.hc(49,"translate"),b.Ub(),b.Gc(50,"\n                        "),b.Vb(51,"ct-hint"),b.Gc(52),b.hc(53,"translate"),b.Ub(),b.Gc(54,"\n                    "),b.Ub(),b.Gc(55,"\n                "),b.Ub(),b.Gc(56,"\n            "),b.Ub(),b.Gc(57,"\n            "),b.Vb(58,"ct-section-footer"),b.Gc(59,"\n                "),b.Vb(60,"ct-section-footer-row"),b.Gc(61,"\n                    "),b.Vb(62,"ct-flex",7),b.Gc(63,"\n                        "),b.Vb(64,"ct-flex-item"),b.Gc(65,"\n                            "),b.Vb(66,"button",8),b.cc("click",function(){return b.wc(t),b.gc().back()}),b.Gc(67),b.hc(68,"translate"),b.Ub(),b.Gc(69,"\n                        "),b.Ub(),b.Gc(70,"\n                        "),b.Vb(71,"ct-flex-item"),b.Gc(72,"\n                            "),b.Vb(73,"button",9),b.cc("click",function(){return b.wc(t),b.gc().upload()}),b.Gc(74),b.hc(75,"translate"),b.Ub(),b.Gc(76,"\n                        "),b.Ub(),b.Gc(77,"\n                    "),b.Ub(),b.Gc(78,"\n                "),b.Ub(),b.Gc(79,"\n            "),b.Ub(),b.Gc(80,"\n        "),b.Ub(),b.Gc(81,"\n    "),b.Ub(),b.Gc(82,"\n    "),b.Vb(83,"ct-col",1),b.Gc(84,"\n        "),b.Qb(85,"ct-rest-status",10),b.Gc(86,"\n    "),b.Ub(),b.Gc(87,"\n"),b.Ub()}if(2&t){const t=b.gc();b.Db(11),b.Hc(b.ic(12,12,"batch-add.Upload file for processing")),b.Db(12),b.Ic(" ",b.ic(24,14,"batch-add.List of Source Codes"),""),b.Db(3),b.mc("ngModel",t.sourceCode),b.Db(2),b.mc("ngForOf",t.sourceCodesForCompany.items),b.Db(4),b.Hc(b.ic(33,16,"batch-add.This is a required field.")),b.Db(10),b.nc("buttonTitle",b.ic(44,18,"batch-add.Select File")),b.Db(6),b.Hc(b.ic(49,20,"batch-add.This is a required field.")),b.Db(4),b.Hc(b.ic(53,22,"batch-add.Only .xml and .zip files are supported")),b.Db(15),b.Ic("\n                                ",b.ic(68,24,"batch-add.Cancel"),""),b.Db(6),b.mc("disabled",!t.sourceCode||!t.file),b.Db(1),b.Ic(" ",b.ic(75,26,"batch-add.Upload-File-button"),""),b.Db(11),b.mc("content",t.batchDataUploadingStatus)}}let gc=(()=>{class t{constructor(t,c,e){this.companyService=t,this.activatedRoute=c,this.router=e}ngOnInit(){this.batchId=this.activatedRoute.snapshot.paramMap.get("batchId"),this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.companyService.sourceCodesForCompany(this.companyUniqueId).subscribe(t=>{this.sourceCodesForCompany=t})}fileUploadChanged(){this.file=this.fileUpload.fileInput.nativeElement.files[0]||!1}upload(){this.companyService.uploadFile(this.companyUniqueId,this.sourceCode.id.toString(),this.file).subscribe(t=>{this.batchDataUploadingStatus=t})}back(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(D),b.Pb(a.a),b.Pb(a.c))},t.\u0275cmp=b.Jb({type:t,selectors:[["company-batch-upload"]],viewQuery:function(t,c){if(1&t&&b.Kc(hc,1),2&t){let t;b.tc(t=b.dc())&&(c.fileUpload=t.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["acceptTypes",".zip, .xml",3,"buttonTitle","changed"],["fileUpload",""],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"],[3,"value"]],template:function(t,c){1&t&&b.Ec(0,fc,88,28,"ct-cols",0),2&t&&b.mc("ngIf",c.sourceCodesForCompany)},directives:[n.m,mt.a,pt.a,I.a,x.a,S.a,M.a,E.a,O.a,ht.b,ht.f,uc.a,ft.l,ft.o,n.l,ht.e,dc.a,mc.a,T.a,P.a,R.a,k.a,F.b,gt.a,pc.m],pipes:[o.c],styles:[""]}),t})();var Uc=e("4u49"),Vc=e("lJGJ"),yc=e("YcRZ"),wc=e("0EQZ"),vc=e("+xlp"),Dc=e("0IaG"),Cc=e("NFeN"),Ic=function(t,c,e,n){var a,o=arguments.length,i=o<3?c:null===n?n=Object.getOwnPropertyDescriptor(c,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,c,e,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(c,e,i):a(c,e))||i);return o>3&&i&&Object.defineProperty(c,e,i),i},xc=function(t,c){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,c)};function Sc(t,c){1&t&&b.Rb(0)}function Rc(t,c){if(1&t){const t=b.Wb();b.Vb(0,"th",20),b.Gc(1,"\n                            "),b.Vb(2,"mat-checkbox",21),b.cc("change",function(){return b.wc(t),b.gc(2).masterToggle()}),b.Gc(3,"\n                                "),b.Qb(4,"div",22),b.Gc(5,"\n                            "),b.Ub(),b.Gc(6,"\n                        "),b.Ub()}if(2&t){const t=b.gc(2);b.Db(2),b.mc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function kc(t,c){if(1&t){const t=b.Wb();b.Tb(0),b.Gc(1,"\n                                "),b.Vb(2,"mat-checkbox",24),b.cc("click",function(t){return t.stopPropagation()})("change",function(){b.wc(t);const c=b.gc().$implicit;return b.gc(2).selection.toggle(c)}),b.Gc(3,"\n                                    "),b.Qb(4,"div",22),b.Gc(5,"\n                                "),b.Ub(),b.Gc(6,"\n                            "),b.Sb()}if(2&t){const t=b.gc().$implicit,c=b.gc(2);b.Db(2),b.mc("checked",c.selection.isSelected(t))}}function Mc(t,c){1&t&&(b.Tb(0),b.Gc(1,"\n                                "),b.Vb(2,"mat-checkbox",25),b.Gc(3,"\n                                    "),b.Qb(4,"div",22),b.Gc(5,"\n                                "),b.Ub(),b.Gc(6,"\n                            "),b.Sb())}function Ec(t,c){if(1&t&&(b.Vb(0,"td",23),b.Gc(1,"\n                            "),b.Ec(2,kc,7,1,"ng-container",0),b.Gc(3,"\n                   \n                            "),b.Ec(4,Mc,7,0,"ng-container",0),b.Gc(5,"\n                   \n                        "),b.Ub()),2&t){const t=c.$implicit;b.Db(2),b.mc("ngIf",t.batch.deleted),b.Db(2),b.mc("ngIf",!t.batch.deleted)}}function Oc(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"ID"),b.Ub())}function Tc(t,c){if(1&t&&(b.Vb(0,"td",23),b.Gc(1),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("",t.batch.id," ")}}function Pc(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"Created on "),b.Ub())}function qc(t,c){if(1&t&&(b.Vb(0,"td",23),b.Gc(1),b.hc(2,"date"),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("\n                            ",b.jc(2,1,t.batch.createdOn,"MMM d, yyyy, HH:mm:ss")," ")}}function Lc(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"Is batch consistent?"),b.Ub())}function $c(t,c){1&t&&(b.Vb(0,"span"),b.Gc(1),b.hc(2,"translate"),b.Ub()),2&t&&(b.Db(1),b.Hc(b.ic(2,1,"batch.isBatchConsistent.true")))}function Fc(t,c){1&t&&(b.Vb(0,"span"),b.Gc(1),b.hc(2,"translate"),b.Ub()),2&t&&(b.Db(1),b.Hc(b.ic(2,1,"batch.isBatchConsistent.false")))}function jc(t,c){if(1&t&&(b.Vb(0,"td",23),b.Gc(1," "),b.Ec(2,$c,3,3,"span",0),b.Ec(3,Fc,3,3,"span",0),b.Ub()),2&t){const t=c.$implicit;b.Db(2),b.mc("ngIf",t.ok),b.Db(1),b.mc("ngIf",!t.ok)}}function _c(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"Is deleted? "),b.Ub())}function Nc(t,c){if(1&t&&(b.Vb(0,"td",23),b.Gc(1),b.Ub()),2&t){const t=c.$implicit;b.Db(1),b.Ic("",t.batch.deleted," ")}}function Ac(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"\n                            "),b.Vb(2,"div",26),b.Gc(3,"Source Code"),b.Ub(),b.Gc(4,"\n                            "),b.Vb(5,"div",26),b.Gc(6,"File Name"),b.Ub(),b.Gc(7,"\n                        "),b.Ub())}function Qc(t,c){if(1&t&&(b.Vb(0,"td",23),b.Gc(1,"\n                            "),b.Vb(2,"div",26),b.Gc(3),b.Ub(),b.Gc(4,"\n                            "),b.Vb(5,"div",26),b.Gc(6),b.Ub(),b.Gc(7,"\n                        "),b.Ub()),2&t){const t=c.$implicit;b.Db(3),b.Hc(t.sourceCodeUid),b.Db(3),b.Hc(t.uploadedFileName)}}function Wc(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1,"Exec State"),b.Ub())}function Hc(t,c){1&t&&(b.Vb(0,"span"),b.Gc(1,"Error"),b.Ub())}function zc(t,c){1&t&&(b.Vb(0,"span"),b.Gc(1,"Preparing"),b.Ub())}function Bc(t,c){1&t&&(b.Vb(0,"span"),b.Gc(1,"Processing"),b.Ub())}function Jc(t,c){1&t&&(b.Vb(0,"span"),b.Gc(1,"Finished"),b.Ub())}function Xc(t,c){if(1&t&&(b.Vb(0,"td",23),b.Gc(1,"\n                            "),b.Ec(2,Hc,2,0,"span",0),b.Gc(3,"\n                            "),b.Ec(4,zc,2,0,"span",0),b.Gc(5,"\n                            "),b.Ec(6,Bc,2,0,"span",0),b.Gc(7,"\n                            "),b.Ec(8,Jc,2,0,"span",0),b.Gc(9,"\n                        "),b.Ub()),2&t){const t=c.$implicit;b.Db(2),b.mc("ngIf",-1===t.execState),b.Db(2),b.mc("ngIf",2===t.execState),b.Db(2),b.mc("ngIf",3===t.execState),b.Db(2),b.mc("ngIf",4===t.execState)}}function Kc(t,c){1&t&&(b.Vb(0,"th",20),b.Gc(1," "),b.Ub())}function Yc(t,c){if(1&t){const t=b.Wb();b.Tb(0),b.Gc(1,"\n                                    "),b.Vb(2,"ct-flex-item"),b.Gc(3,"\n                                        "),b.Vb(4,"button",31),b.cc("click",function(){b.wc(t);const c=b.gc().$implicit;return b.gc(2).deleteOne(c)}),b.Gc(5,"\n                                            "),b.Vb(6,"mat-icon"),b.Gc(7,"delete"),b.Ub(),b.Gc(8,"\n                                        "),b.Ub(),b.Gc(9,"\n                                    "),b.Ub(),b.Gc(10,"\n                                "),b.Sb()}if(2&t){const t=b.gc().$implicit,c=b.gc(2);b.Db(4),b.mc("disabled",!(t.batch.deleted&&c.isFinished(t)))}}const Zc=function(t){return["../","batch",t]};function te(t,c){if(1&t){const t=b.Wb();b.Vb(0,"td",23),b.Gc(1,"\n                            "),b.Vb(2,"ct-flex",27),b.Gc(3,"\n                                "),b.Vb(4,"ct-flex-item"),b.Gc(5,"\n                                    "),b.Vb(6,"button",28),b.Gc(7,"Status"),b.Ub(),b.Gc(8,"\n                                "),b.Ub(),b.Gc(9,"\n                                "),b.Vb(10,"ct-flex-item"),b.Gc(11,"\n                                    "),b.Vb(12,"button",29),b.cc("click",function(){b.wc(t);const e=c.$implicit;return b.gc(2).downloadResult(e)}),b.Gc(13,"\n                                        Result\n                                    "),b.Ub(),b.Gc(14,"\n                                "),b.Ub(),b.Gc(15,"\n                                "),b.Vb(16,"ct-flex-item"),b.Gc(17,"\n                                    "),b.Vb(18,"button",30),b.cc("click",function(){b.wc(t);const e=c.$implicit;return b.gc(2).downloadOriginFile(e)}),b.Gc(19,"\n                                        Origin File\n                                    "),b.Ub(),b.Gc(20,"\n                                "),b.Ub(),b.Gc(21,"\n                                "),b.Ec(22,Yc,11,1,"ng-container",0),b.Gc(23,"\n                   \n                            "),b.Ub(),b.Gc(24,"\n                        "),b.Ub()}if(2&t){const t=c.$implicit,e=b.gc(2);b.Db(6),b.mc("routerLink",b.pc(4,Zc,t.batch.id))("disabled",!e.isFinished(t)||e.isExecContextDeleted(t)),b.Db(6),b.mc("disabled",!e.isFinished(t)||e.isExecContextDeleted(t)),b.Db(10),b.mc("ngIf",e.isRole.MasterOperator)}}function ce(t,c){1&t&&b.Qb(0,"tr",32)}function ee(t,c){if(1&t){const t=b.Wb();b.Vb(0,"tr",33),b.cc("click",function(){b.wc(t);const e=c.$implicit;return b.gc(2).checkAndToggleRowSeletion(e)}),b.Ub()}if(2&t){const t=c.$implicit,e=b.gc(2);b.Hb("selected-color",e.downloadSelector.isSelected(t))}}function ne(t,c){if(1&t){const t=b.Wb();b.Tb(0),b.Gc(1,"\n            "),b.Vb(2,"ct-section-footer-row"),b.Gc(3,"\n                "),b.Vb(4,"button",34),b.cc("click",function(){return b.wc(t),b.gc(2).deleteMany()}),b.Gc(5,"\n                    Delete Checked\n                "),b.Ub(),b.Gc(6,"\n            "),b.Ub(),b.Gc(7,"\n        "),b.Sb()}if(2&t){const t=b.gc(2);b.Db(4),b.mc("disabled",t.isLoading||0===t.selection.selected.length)}}function ae(t,c){1&t&&b.Rb(0)}function oe(t,c){if(1&t&&(b.Tb(0),b.Gc(1,"\n                    "),b.Vb(2,"ct-flex-item"),b.Gc(3,"\n                        "),b.Ec(4,ae,1,0,"ng-container",4),b.Gc(5,"\n                    "),b.Ub(),b.Gc(6,"\n                "),b.Sb()),2&t){b.gc(2);const t=b.uc(3);b.Db(4),b.mc("ngTemplateOutlet",t)}}function ie(t,c){1&t&&b.Rb(0)}function se(t,c){if(1&t){const t=b.Wb();b.Vb(0,"ct-section"),b.Gc(1,"\n    "),b.Vb(2,"ct-section-header"),b.Gc(3,"\n        "),b.Vb(4,"ct-section-header-row"),b.Gc(5,"\n            "),b.Vb(6,"ct-flex",3),b.Gc(7,"\n                "),b.Vb(8,"ct-flex-item"),b.Gc(9,"\n                    "),b.Vb(10,"ct-heading"),b.Gc(11," Batch "),b.Ub(),b.Gc(12,"\n                "),b.Ub(),b.Gc(13,"\n                "),b.Vb(14,"ct-flex-item"),b.Gc(15,"\n                    "),b.Ec(16,Sc,1,0,"ng-container",4),b.Gc(17,"\n                "),b.Ub(),b.Gc(18,"\n            "),b.Ub(),b.Gc(19,"\n        "),b.Ub(),b.Gc(20,"\n    "),b.Ub(),b.Gc(21,"\n    "),b.Vb(22,"ct-section-body"),b.Gc(23,"\n        "),b.Vb(24,"ct-section-body-row"),b.Gc(25,"\n            "),b.Vb(26,"ct-table",5),b.Gc(27,"\n                "),b.Vb(28,"table",6),b.Gc(29,"\n                    "),b.Tb(30,7),b.Gc(31,"\n                        "),b.Ec(32,Rc,7,2,"th",8),b.Gc(33,"\n                        "),b.Ec(34,Ec,6,2,"td",9),b.Gc(35,"\n                    "),b.Sb(),b.Gc(36,"\n                   \n                    "),b.Tb(37,10),b.Gc(38,"\n                        "),b.Ec(39,Oc,2,0,"th",8),b.Gc(40,"\n                        "),b.Ec(41,Tc,2,1,"td",9),b.Gc(42,"\n                    "),b.Sb(),b.Gc(43,"\n                   \n                    "),b.Tb(44,11),b.Gc(45,"\n                        "),b.Ec(46,Pc,2,0,"th",8),b.Gc(47,"\n                        "),b.Ec(48,qc,3,4,"td",9),b.Gc(49,"\n                    "),b.Sb(),b.Gc(50,"\n                   \n                    "),b.Tb(51,12),b.Gc(52,"\n                        "),b.Ec(53,Lc,2,0,"th",8),b.Gc(54,"\n                        "),b.Ec(55,jc,4,2,"td",9),b.Gc(56,"\n                    "),b.Sb(),b.Gc(57,"\n                   \n                    "),b.Tb(58,13),b.Gc(59,"\n                        "),b.Ec(60,_c,2,0,"th",8),b.Gc(61,"\n                        "),b.Ec(62,Nc,2,1,"td",9),b.Gc(63,"\n                    "),b.Sb(),b.Gc(64,"\n                   \n                    "),b.Tb(65,14),b.Gc(66,"\n                        "),b.Ec(67,Ac,8,0,"th",8),b.Gc(68,"\n                        "),b.Ec(69,Qc,8,2,"td",9),b.Gc(70,"\n                    "),b.Sb(),b.Gc(71,"\n                   \n                    "),b.Tb(72,15),b.Gc(73,"\n                        "),b.Ec(74,Wc,2,0,"th",8),b.Gc(75,"\n                        "),b.Ec(76,Xc,10,4,"td",9),b.Gc(77,"\n                    "),b.Sb(),b.Gc(78,"\n                   \n                    "),b.Tb(79,16),b.Gc(80,"\n                        "),b.Ec(81,Kc,2,0,"th",8),b.Gc(82,"\n                        "),b.Ec(83,te,25,6,"td",9),b.Gc(84,"\n                    "),b.Sb(),b.Gc(85,"\n                   \n                    "),b.Ec(86,ce,1,0,"tr",17),b.Gc(87,"\n                    "),b.Ec(88,ee,1,2,"tr",18),b.Gc(89,"\n                "),b.Ub(),b.Gc(90,"\n            "),b.Ub(),b.Gc(91,"\n        "),b.Ub(),b.Gc(92,"\n    "),b.Ub(),b.Gc(93,"\n    "),b.Vb(94,"ct-section-footer"),b.Gc(95,"\n        "),b.Ec(96,ne,8,1,"ng-container",0),b.Gc(97,"\n        "),b.Vb(98,"ct-section-footer-row"),b.Gc(99,"\n            "),b.Vb(100,"ct-flex",3),b.Gc(101,"\n                "),b.Vb(102,"ct-flex-item"),b.Gc(103,"\n                    "),b.Vb(104,"ct-table-pagination",19),b.cc("prev",function(){return b.wc(t),b.gc().prevPage()})("next",function(){return b.wc(t),b.gc().nextPage()}),b.Ub(),b.Gc(105,"\n                "),b.Ub(),b.Gc(106,"\n\n                "),b.Ec(107,oe,7,1,"ng-container",0),b.Gc(108,"\n\n                "),b.Vb(109,"ct-flex-item"),b.Gc(110,"\n                    "),b.Ec(111,ie,1,0,"ng-container",4),b.Gc(112,"\n                "),b.Ub(),b.Gc(113,"\n            "),b.Ub(),b.Gc(114,"\n        "),b.Ub(),b.Gc(115,"\n    "),b.Ub(),b.Gc(116,"\n"),b.Ub()}if(2&t){const t=b.gc(),c=b.uc(6);b.Db(16),b.mc("ngTemplateOutlet",c),b.Db(10),b.mc("isWaiting",t.isLoading),b.Db(2),b.mc("dataSource",t.dataSource),b.Db(58),b.mc("matHeaderRowDef",t.columnsToDisplay),b.Db(2),b.mc("matRowDefColumns",t.columnsToDisplay),b.Db(8),b.mc("ngIf",t.isRole.MasterOperator),b.Db(8),b.mc("pageableDefault",t.batchesResult.batches),b.Db(3),b.mc("ngIf",t.downloadSelector.size>0),b.Db(4),b.mc("ngTemplateOutlet",c)}}function be(t,c){if(1&t){const t=b.Wb();b.Gc(0,"\n    "),b.Vb(1,"ct-flex",35),b.Gc(2,"\n        "),b.Vb(3,"ct-flex-item"),b.Gc(4,"\n            "),b.Vb(5,"div",36),b.Gc(6),b.Ub(),b.Gc(7,"\n        "),b.Ub(),b.Gc(8,"\n        "),b.Vb(9,"ct-flex-item"),b.Gc(10,"\n            "),b.Vb(11,"button",37),b.cc("click",function(){return b.wc(t),b.gc().downloadResults()}),b.Gc(12,"\n                Download\n            "),b.Ub(),b.Gc(13,"\n        "),b.Ub(),b.Gc(14,"\n        "),b.Vb(15,"ct-flex-item"),b.Gc(16,"\n            "),b.Vb(17,"button",37),b.cc("click",function(){return b.wc(t),b.gc().downloadSelector.clear()}),b.Gc(18,"\n                Discard\n            "),b.Ub(),b.Gc(19,"\n        "),b.Ub(),b.Gc(20,"\n    "),b.Ub(),b.Gc(21,"\n")}if(2&t){const t=b.gc();b.Db(6),b.Ic("\n                Selected \xd7 ",t.downloadSelector.size,"\n            "),b.Db(5),b.mc("disabled",t.isLoading),b.Db(6),b.mc("disabled",t.isLoading)}}const re=function(){return["upload"]};function le(t,c){1&t&&(b.Tb(0),b.Gc(1,"\n        "),b.Vb(2,"button",38),b.Gc(3,"Upload files and start\n            processing"),b.Ub(),b.Gc(4,"\n    "),b.Sb()),2&t&&(b.Db(2),b.mc("routerLink",b.oc(1,re)))}function de(t,c){if(1&t&&(b.Gc(0,"\n    "),b.Ec(1,le,5,2,"ng-container",0),b.Gc(2,"\n")),2&t){const t=b.gc();b.Db(1),b.mc("ngIf",t.isRole.MasterOperator)}}let ue=(()=>{class t extends d.a{constructor(t,c,e,n,a){super(t),this.authenticationService=t,this.companyService=c,this.activatedRoute=e,this.dialog=n,this.translate=a,this.dataSource=new l.k([]),this.selection=new wc.c(!0,[]),this.downloadSelector=new vc.a}checkAndToggleRowSeletion(t){this.isFinished(t)&&!this.isExecContextDeleted(t)&&this.downloadSelector.toggle(t)}ngOnInit(){this.companyUniqueId=this.activatedRoute.snapshot.paramMap.get("companyUniqueId"),this.updateTable("0")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.filter(t=>t.batch.deleted).length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.filter(t=>t.batch.deleted).forEach(t=>this.selection.select(t))}get columnsToDisplay(){return this.isRole.MasterOperator?["check","id","createdOn","isBatchConsistent","isDeleted","sourceCode","execState","bts"]:["id","createdOn","isBatchConsistent","isDeleted","sourceCode","execState","bts"]}updateTable(t){this.isLoading=!0,this.companyService.batches(t,this.companyUniqueId).subscribe({next:t=>{this.batchesResult=t,this.batches=this.batchesResult.batches.content,this.dataSource=new l.k(this.batches),this.selection.clear()},complete:()=>this.isLoading=!1})}isFinished(t){return t.batch.execState===yc.a.Finished||t.batch.execState===yc.a.Error||t.batch.execState===yc.a.Archived}isExecContextDeleted(t){return t.execContextDeleted}prevPage(){this.updateTable((this.batchesResult.batches.number-1).toString())}nextPage(){this.updateTable((this.batchesResult.batches.number+1).toString())}deleteOne(t){this.isLoading=!0,this.companyService.processBatchDeleteCommit(this.companyUniqueId,t.batch.id.toString()).subscribe({complete:()=>{this.updateTable(this.batchesResult.batches.number.toString())}})}deleteMany(){this.isLoading=!0,this.companyService.processBatchesBulkDeleteCommit(this.companyUniqueId,this.selection.selected.map(t=>t.batch.id).toString()).subscribe({next:()=>{this.updateTable(this.batchesResult.batches.number.toString())}})}downloadResult(t){this.companyService.downloadProcessingResult(this.companyUniqueId,t.batch.id.toString()).subscribe(t=>{const c=t.headers.get("Content-Disposition").replace("filename*=UTF-8''","")||"result.zip";w.saveAs(t.body,c)})}downloadOriginFile(t){this.companyService.downloadOriginFile(this.companyUniqueId,t.batch.id.toString(),t.uploadedFileName).subscribe(t=>{const c=t.headers.get("Content-Disposition").replace("filename*=UTF-8''","")||"result.zip";w.saveAs(t.body,c)})}downloadResults(){this.isLoading=!0,this.companyService.downloadProcessingResults(this.downloadSelector.getList(),this.companyUniqueId).subscribe(()=>{this.isLoading=!1,this.downloadSelector.clear()})}}return t.\u0275fac=function(c){return new(c||t)(b.Pb(u.a),b.Pb(D),b.Pb(a.a),b.Pb(Dc.b),b.Pb(o.d))},t.\u0275cmp=b.Jb({type:t,selectors:[["company-batch-list"]],features:[b.Ab],decls:7,vars:1,consts:[[4,"ngIf"],["downloadButtonsTemplate",""],["uploadButtonTemplate",""],["justify-content","space-between"],[4,"ngTemplateOutlet"],[3,"isWaiting"],["mat-table","",1,"mat-table",3,"dataSource"],["matColumnDef","check"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","createdOn"],["matColumnDef","isBatchConsistent"],["matColumnDef","isDeleted"],["matColumnDef","sourceCode"],["matColumnDef","execState"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected-color","click",4,"matRowDef","matRowDefColumns"],[3,"pageableDefault","prev","next"],["mat-header-cell",""],["color","warn",3,"checked","indeterminate","change"],[1,"check-area"],["mat-cell",""],["color","warn",3,"checked","click","change"],["disabled",""],[1,"no-wrap"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"routerLink","disabled"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","click"],["mat-flat-button","","size","forTableRow","color","primary",3,"click"],["mat-flat-button","","color","warn","size","forTableRow","title","Delete",3,"disabled","click"],["mat-header-row",""],["mat-row","",3,"click"],["mat-flat-button","","color","warn","title","Delete Checked",3,"disabled","click"],["justify-content","center","gap","unit(1)","align-items","center"],[1,"selected-count"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,c){1&t&&(b.Ec(0,se,117,9,"ct-section",0),b.Gc(1,"\n\n\n\n"),b.Ec(2,be,22,3,"ng-template",null,1,b.Fc),b.Gc(4,"\n\n\n\n"),b.Ec(5,de,3,1,"ng-template",null,2,b.Fc)),2&t&&b.mc("ngIf",c.batchesResult)},directives:[n.m,I.a,x.a,S.a,R.a,k.a,M.a,n.r,E.a,O.a,$.a,l.j,l.c,l.e,l.b,l.g,l.i,T.a,P.a,q.a,l.d,tc.a,l.a,F.b,a.d,Cc.a,l.f,l.h],pipes:[n.e,o.c],styles:["mat-checkbox[_ngcontent-%COMP%]{position:relative}.check-area[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;top:50%;left:50%;margin-top:-20px;margin-left:-20px;background-color:transparent}.selected-color[_ngcontent-%COMP%]{background-color:rgba(255,193,7,.18)}.selected-count[_ngcontent-%COMP%]{background:rgba(255,193,7,.18);border-radius:4px;padding:10px 20px 8px}"]}),Ic([Object(Vc.a)({question:t=>({text:Object(Uc.a)("batch-company.delete-dialog.Do you want to delete Batch _batchId_"),params:{batchId:t.batch.id}}),rejectTitle:`${Object(Uc.a)("batch-company.delete-dialog.Cancel")}`,resolveTitle:`${Object(Uc.a)("batch-company.delete-dialog.Delete")}`}),xc("design:type",Function),xc("design:paramtypes",[Object]),xc("design:returntype",void 0)],t.prototype,"deleteOne",null),Ic([Object(Vc.a)({question:()=>({text:Object(Uc.a)("batch-company.delete-dialog.Do you want to delete Batches"),params:{}}),rejectTitle:`${Object(Uc.a)("batch-company.delete-dialog.Cancel")}`,resolveTitle:`${Object(Uc.a)("batch-company.delete-dialog.Delete")}`}),xc("design:type",Function),xc("design:paramtypes",[]),xc("design:returntype",void 0)],t.prototype,"deleteMany",null),t})();var me=e("iuQL");const pe=[{path:"",component:r},{path:"companies",component:dt},{path:":companyUniqueId/edit",canActivate:[me.a],component:yt,data:{backConfig:["../","../","companies"],requiredRoles:[u.e.MasterAdmin]}},{path:"add",component:Yt,data:{backConfig:["../","companies"]}},{path:":companyUniqueId/accounts",component:Xt,canActivate:[me.a],data:{backConfig:["../","../","companies"],requiredRoles:[u.e.MasterAdmin]}},{path:":companyUniqueId/account/add",component:Zt,data:{backConfig:["../","../","accounts"]}},{path:":companyUniqueId/account/:accountId/edit",component:ec,data:{backConfig:["../","../","../","accounts"]}},{path:":companyUniqueId/account/:accountId/edit-roles",component:sc,data:{backConfig:["../","../","../","accounts"]}},{path:":companyUniqueId/account/:accountId/edit-password",component:ac,data:{backConfig:["../","../","../","accounts"]}},{path:"1/batches",redirectTo:"companies"},{path:":companyUniqueId/batches",component:ue,canActivate:[me.a],data:{backConfig:["../","../","companies"],requiredRoles:[u.e.MasterSupport,u.e.MasterOpertator]}},{path:":companyUniqueId/batches/upload",component:gc,canActivate:[me.a],data:{backConfig:["../"],requiredRoles:[u.e.MasterSupport,u.e.MasterOpertator]}},{path:":companyUniqueId/batch/:batchId",component:lc,canActivate:[me.a],data:{backConfig:["../","../","batches"],requiredRoles:[u.e.MasterSupport,u.e.MasterOpertator]}}];let he=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({imports:[[a.g.forChild(pe)],a.g]}),t})(),Ge=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({imports:[[n.c,he,i.a,s.a,ft.h,ft.p,o.b.forChild({})]]}),t})()}}]);