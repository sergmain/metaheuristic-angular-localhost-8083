(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{gFOi:function(t,c,e){"use strict";e.r(c),e.d(c,"BatchRoutes",function(){return zt}),e.d(c,"BatchRoutingModule",function(){return Jt}),e.d(c,"BatchModule",function(){return Qt});var n=e("ofXK"),a=e("3Pt+"),i=e("tyNb"),s=e("sYmb"),o=e("vCXQ"),b=e("u8e3"),r=e("Hz+5"),l=e("fXoL"),d=e("2ljo"),u=e("1P+h"),h=e("25/r"),G=e("Xc1m"),f=e("Ne1S"),p=e("Kt2f"),m=e("IRPT");function g(t,c){if(1&t&&(l.Vb(0,"ct-section-body-row"),l.Gc(1," \n      "),l.Vb(2,"ct-pre"),l.Gc(3),l.Ub(),l.Gc(4,"\n    "),l.Ub()),2&t){const t=l.gc();l.Db(3),l.Hc(t.response.console)}}const U=function(t){return{batchId:t}},V=function(t,c){return[t,c]};let D=(()=>{class t{constructor(t,c,e){this.route=t,this.batchService=c,this.router=e,this.states=b.a,this.currentState=b.a.firstLoading}ngOnInit(){this.batchId=this.route.snapshot.paramMap.get("batchId"),this.updateResponse()}updateResponse(){this.batchService.getProcessingResourceStatus(this.batchId).subscribe(t=>{this.response=t,this.currentState=this.states.show})}}return t.\u0275fac=function(c){return new(c||t)(l.Pb(i.a),l.Pb(r.a),l.Pb(i.c))},t.\u0275cmp=l.Jb({type:t,selectors:[["batch-status"]],decls:21,vars:10,consts:[[4,"ngIf"]],template:function(t,c){1&t&&(l.Gc(0,"\n"),l.Vb(1,"ct-section"),l.Gc(2,"\n  "),l.Vb(3,"ct-section-header"),l.Gc(4,"\n    "),l.Vb(5,"ct-section-header-row"),l.Gc(6,"\n      "),l.Vb(7,"ct-heading"),l.Gc(8,"  \n        "),l.Vb(9,"div"),l.Gc(10),l.hc(11,"translate"),l.Ub(),l.Gc(12,"\n      "),l.Ub(),l.Gc(13,"\n    "),l.Ub(),l.Gc(14,"\n  "),l.Ub(),l.Gc(15,"\n  "),l.Vb(16,"ct-section-body"),l.Gc(17,"\n    "),l.Ec(18,g,5,1,"ct-section-body-row",0),l.Gc(19,"\n  "),l.Ub(),l.Gc(20,"\n"),l.Ub()),2&t&&(l.Db(10),l.Ic("",l.jc(11,2,"batch-status.Status of execution of batch _batchId_",l.pc(5,U,c.batchId))," "),l.Db(8),l.mc("ngIf",l.qc(7,V,c.states.wait,c.states.show).includes(c.currentState)))},directives:[d.a,u.a,h.a,G.a,f.a,n.m,p.a,m.a],pipes:[s.c],styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word}"]}),t})();var w=e("uB0V"),x=e("FzDw"),S=e("q4ZW"),v=e("LjSU"),C=e("MbdJ"),I=e("I6qf"),y=e("MI58"),R=e("kmnG"),O=e("d3UM"),k=e("PVyz"),E=e("FMVq"),F=e("V6TR"),P=e("CaYE"),T=e("No2e"),M=e("bTqV"),j=e("05qC"),H=e("FKr1");const B=["fileUpload"];function q(t,c){if(1&t&&(l.Vb(0,"div"),l.Gc(1,"\n                                "),l.Vb(2,"mat-option",11),l.Gc(3),l.Ub(),l.Gc(4,"\n                            "),l.Ub()),2&t){const t=c.$implicit;l.Db(2),l.mc("value",t),l.Db(1),l.Hc(t.uid)}}function $(t,c){if(1&t){const t=l.Wb();l.Vb(0,"ct-cols"),l.Gc(1,"\n    "),l.Vb(2,"ct-col",1),l.Gc(3,"\n        "),l.Vb(4,"ct-section"),l.Gc(5,"\n            "),l.Vb(6,"ct-section-header"),l.Gc(7,"\n                "),l.Vb(8,"ct-section-header-row"),l.Gc(9,"\n                    "),l.Vb(10,"ct-heading"),l.Gc(11),l.hc(12,"translate"),l.Ub(),l.Gc(13,"\n                "),l.Ub(),l.Gc(14,"\n            "),l.Ub(),l.Gc(15,"\n            "),l.Vb(16,"ct-section-body"),l.Gc(17,"\n                "),l.Vb(18,"ct-section-body-row"),l.Gc(19,"\n                    "),l.Vb(20,"mat-form-field",2),l.Gc(21,"\n                        "),l.Vb(22,"mat-label"),l.Gc(23),l.hc(24,"translate"),l.Ub(),l.Gc(25,"\n                        "),l.Vb(26,"mat-select",3),l.cc("ngModelChange",function(c){return l.wc(t),l.gc().sourceCode=c}),l.Gc(27,"\n                            "),l.Ec(28,q,5,2,"div",4),l.Gc(29,"\n                        "),l.Ub(),l.Gc(30,"\n                        "),l.Vb(31,"mat-hint"),l.Gc(32),l.hc(33,"translate"),l.Ub(),l.Gc(34,"\n                    "),l.Ub(),l.Gc(35,"\n\n                    "),l.Qb(36,"br"),l.Gc(37,"\n                    "),l.Qb(38,"br"),l.Gc(39,"\n\n                    "),l.Vb(40,"div"),l.Gc(41,"\n                        "),l.Vb(42,"ct-file-upload",5,6),l.cc("changed",function(){return l.wc(t),l.gc().fileUploadChanged()}),l.hc(44,"translate"),l.Gc(45,"\n                        "),l.Ub(),l.Gc(46,"\n                        "),l.Vb(47,"ct-hint"),l.Gc(48),l.hc(49,"translate"),l.Ub(),l.Gc(50,"\n                        "),l.Vb(51,"ct-hint"),l.Gc(52),l.hc(53,"translate"),l.Ub(),l.Gc(54,"\n                    "),l.Ub(),l.Gc(55,"\n                "),l.Ub(),l.Gc(56,"\n            "),l.Ub(),l.Gc(57,"\n            "),l.Vb(58,"ct-section-footer"),l.Gc(59,"\n                "),l.Vb(60,"ct-section-footer-row"),l.Gc(61,"\n                    "),l.Vb(62,"ct-flex",7),l.Gc(63,"\n                        "),l.Vb(64,"ct-flex-item"),l.Gc(65,"\n                            "),l.Vb(66,"button",8),l.cc("click",function(){return l.wc(t),l.gc().back()}),l.Gc(67),l.hc(68,"translate"),l.Ub(),l.Gc(69,"\n                        "),l.Ub(),l.Gc(70,"\n                        "),l.Vb(71,"ct-flex-item"),l.Gc(72,"\n                            "),l.Vb(73,"button",9),l.cc("click",function(){return l.wc(t),l.gc().upload()}),l.Gc(74),l.hc(75,"translate"),l.Ub(),l.Gc(76,"\n                        "),l.Ub(),l.Gc(77,"\n                    "),l.Ub(),l.Gc(78,"\n                "),l.Ub(),l.Gc(79,"\n            "),l.Ub(),l.Gc(80,"\n        "),l.Ub(),l.Gc(81,"\n    "),l.Ub(),l.Gc(82,"\n    "),l.Vb(83,"ct-col",1),l.Gc(84,"\n        "),l.Qb(85,"ct-rest-status",10),l.Gc(86,"\n    "),l.Ub(),l.Gc(87,"\n"),l.Ub()}if(2&t){const t=l.gc();l.Db(11),l.Hc(l.ic(12,12,"batch-add.Upload file for processing")),l.Db(12),l.Ic(" ",l.ic(24,14,"batch-add.List of Source Codes"),""),l.Db(3),l.mc("ngModel",t.sourceCode),l.Db(2),l.mc("ngForOf",t.listOfSourceCodes),l.Db(4),l.Hc(l.ic(33,16,"batch-add.This is a required field.")),l.Db(10),l.nc("buttonTitle",l.ic(44,18,"batch-add.Select File")),l.Db(6),l.Hc(l.ic(49,20,"batch-add.This is a required field.")),l.Db(4),l.Hc(l.ic(53,22,"batch-add.Only .xml and .zip files are supported")),l.Db(15),l.Ic("\n                                ",l.ic(68,24,"batch-add.Cancel"),""),l.Db(6),l.mc("disabled",!t.sourceCode||!t.file),l.Db(1),l.Ic(" ",l.ic(75,26,"batch-add.Upload-File-button"),""),l.Db(11),l.mc("content",t.uploadResponse)}}let L=(()=>{class t extends x.a{constructor(t,c,e,n,a,i){super(i),this.batchService=t,this.router=c,this.route=e,this.translate=n,this.settingsService=a,this.authenticationService=i,this.currentStates=new Set,this.listOfSourceCodes=[]}ngOnInit(){this.subscribeSubscription(this.settingsService.events.subscribe(t=>{t instanceof v.b&&this.translate.use(t.settings.language)})),this.updateResponse()}ngOnDestroy(){this.unsubscribeSubscriptions()}updateResponse(){this.batchService.batchAdd().subscribe(t=>{this.response=t,this.listOfSourceCodes=this.response.items})}back(){this.router.navigate(["../"],{relativeTo:this.route})}upload(){this.batchService.uploadFile(this.sourceCode.id.toString(),this.fileUpload.fileInput.nativeElement.files[0]).subscribe(t=>{t.status===w.a.OK&&this.back(),this.uploadResponse=t})}fileUploadChanged(){this.file=this.fileUpload.fileInput.nativeElement.files[0]||!1}}return t.\u0275fac=function(c){return new(c||t)(l.Pb(r.a),l.Pb(i.c),l.Pb(i.a),l.Pb(s.d),l.Pb(v.a),l.Pb(S.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["batch-add"]],viewQuery:function(t,c){if(1&t&&l.Kc(B,1),2&t){let t;l.tc(t=l.dc())&&(c.fileUpload=t.first)}},features:[l.Ab],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["acceptTypes",".zip, .xml",3,"buttonTitle","changed"],["fileUpload",""],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"],[3,"value"]],template:function(t,c){1&t&&l.Ec(0,$,88,28,"ct-cols",0),2&t&&l.mc("ngIf",c.response)},directives:[n.m,I.a,y.a,d.a,u.a,h.a,G.a,f.a,p.a,R.b,R.f,O.a,a.l,a.o,n.l,R.e,C.a,k.a,E.a,F.a,P.a,T.a,M.b,j.a,H.m],pipes:[s.c],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();var z=e("9kxi"),J=e("W8U/"),Q=e("6Q+1"),A=e("qyGu");let W=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=l.Jb({type:t,selectors:[["batch-root"]],decls:8,vars:0,template:function(t,c){1&t&&(l.Vb(0,"ct-content"),l.Gc(1,"\n    "),l.Qb(2,"router-outlet"),l.Gc(3,"\n    "),l.Qb(4,"ct-back-button"),l.Gc(5,"\n    "),l.Qb(6,"copy-right"),l.Gc(7,"\n"),l.Ub())},directives:[J.a,i.h,Q.a,A.a],styles:[""]}),t})();var _=e("wIh8"),N=e("2qjw");let K=(()=>{class t{constructor(t){this.route=t,this.sourceCodeId=this.route.snapshot.paramMap.get("sourceCodeId"),this.execContextId=this.route.snapshot.paramMap.get("execContextId")}}return t.\u0275fac=function(c){return new(c||t)(l.Pb(i.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["batch-state"]],decls:19,vars:2,consts:[[3,"sourceCodeId","execContextId"]],template:function(t,c){1&t&&(l.Vb(0,"ct-section"),l.Gc(1,"\n    "),l.Vb(2,"ct-section-header"),l.Gc(3,"\n        "),l.Vb(4,"ct-section-header-row"),l.Gc(5,"\n            "),l.Vb(6,"ct-heading"),l.Gc(7,"State of Tasks"),l.Ub(),l.Gc(8,"\n        "),l.Ub(),l.Gc(9,"\n    "),l.Ub(),l.Gc(10,"\n    "),l.Vb(11,"ct-section-body"),l.Gc(12,"\n        "),l.Vb(13,"ct-section-body-row"),l.Gc(14,"\n            "),l.Qb(15,"ct-state-of-tasks",0),l.Gc(16,"\n        "),l.Ub(),l.Gc(17,"\n    "),l.Ub(),l.Gc(18,"\n"),l.Ub()),2&t&&(l.Db(15),l.mc("sourceCodeId",c.sourceCodeId)("execContextId",c.execContextId))},directives:[d.a,u.a,h.a,G.a,f.a,p.a,N.a],styles:[""]}),t})();var X=e("+0xr"),Y=e("4u49"),Z=e("lJGJ"),tt=e("YcRZ"),ct=e("Iab2"),et=e("0IaG"),nt=e("LazG"),at=e("6xdO"),it=e("W7k4"),st=e("NFeN"),ot=function(t,c){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,c)};function bt(t,c){1&t&&l.Rb(0)}function rt(t,c){1&t&&(l.Vb(0,"span",22),l.Gc(1,"\u2713\xa0\xa0"),l.Ub())}function lt(t,c){1&t&&(l.Vb(0,"span",22),l.Gc(1,"\u2717\xa0\xa0"),l.Ub())}function dt(t,c){1&t&&(l.Vb(0,"th",23),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Hc(l.ic(2,1,"batch.Id")))}function ut(t,c){if(1&t&&(l.Vb(0,"td",24),l.Gc(1),l.Ub()),2&t){const t=c.$implicit;l.Db(1),l.Ic("",t.batch.id," ")}}function ht(t,c){1&t&&(l.Vb(0,"th",23),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Ic("",l.ic(2,1,"batch.Created On"),"\n                        "))}function Gt(t,c){if(1&t&&(l.Vb(0,"td",24),l.Gc(1),l.hc(2,"date"),l.Ub()),2&t){const t=c.$implicit;l.Db(1),l.Ic("\n                            ",l.jc(2,1,t.batch.createdOn,"MMM d, yyyy, HH:mm:ss")," ")}}function ft(t,c){1&t&&(l.Vb(0,"th",23),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Ic("",l.ic(2,1,"batch.Owner's username"),"\n                        "))}function pt(t,c){if(1&t&&(l.Vb(0,"td",24),l.Gc(1),l.Ub()),2&t){const t=c.$implicit;l.Db(1),l.Hc(t.username)}}function mt(t,c){1&t&&(l.Vb(0,"th",23),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Ic("\n                            ",l.ic(2,1,"batch.Is Batch Consistent?")," "))}function gt(t,c){1&t&&(l.Vb(0,"span"),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Hc(l.ic(2,1,"batch.isBatchConsistent.true")))}function Ut(t,c){1&t&&(l.Vb(0,"span"),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Hc(l.ic(2,1,"batch.isBatchConsistent.false")))}function Vt(t,c){if(1&t&&(l.Vb(0,"td",24),l.Gc(1," "),l.Ec(2,gt,3,3,"span",0),l.Ec(3,Ut,3,3,"span",0),l.Ub()),2&t){const t=c.$implicit;l.Db(2),l.mc("ngIf",t.ok),l.Db(1),l.mc("ngIf",!t.ok)}}function Dt(t,c){1&t&&(l.Vb(0,"th",23),l.Gc(1,"\n                            "),l.Vb(2,"div",25),l.Gc(3),l.hc(4,"translate"),l.Ub(),l.Gc(5,"\n                            "),l.Vb(6,"div",25),l.Gc(7),l.hc(8,"translate"),l.Ub(),l.Gc(9,"\n                        "),l.Ub()),2&t&&(l.Db(3),l.Hc(l.ic(4,2,"batch.Source Code")),l.Db(4),l.Hc(l.ic(8,4,"batch.File name")))}function wt(t,c){if(1&t&&(l.Vb(0,"td",24),l.Gc(1,"\n                            "),l.Vb(2,"div",25),l.Gc(3),l.Ub(),l.Gc(4,"\n                            "),l.Vb(5,"div",25),l.Gc(6),l.Ub(),l.Gc(7,"\n                        "),l.Ub()),2&t){const t=c.$implicit;l.Db(3),l.Hc(t.sourceCodeUid),l.Db(3),l.Hc(t.uploadedFileName)}}function xt(t,c){1&t&&(l.Vb(0,"th",23),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Ic(" ",l.ic(2,1,"batch.Exec State"),"\n                        "))}function St(t,c){1&t&&(l.Vb(0,"span"),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Ic("\n                                ",l.ic(2,1,"batch.isBatchConsistent.Error"),"\n                            "))}function vt(t,c){1&t&&(l.Vb(0,"span"),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Ic("\n                                ",l.ic(2,1,"batch.isBatchConsistent.Preparing"),"\n                            "))}function Ct(t,c){1&t&&(l.Vb(0,"span"),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Ic("\n                                ",l.ic(2,1,"batch.isBatchConsistent.Processing"),"\n                            "))}function It(t,c){1&t&&(l.Vb(0,"span"),l.Gc(1),l.hc(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Ic("\n                                ",l.ic(2,1,"batch.isBatchConsistent.Finished"),"\n                            "))}function yt(t,c){if(1&t&&(l.Vb(0,"td",24),l.Gc(1,"\n                            "),l.Ec(2,St,3,3,"span",0),l.Gc(3,"\n                            "),l.Ec(4,vt,3,3,"span",0),l.Gc(5,"\n                            "),l.Ec(6,Ct,3,3,"span",0),l.Gc(7,"\n                            "),l.Ec(8,It,3,3,"span",0),l.Gc(9,"\n                        "),l.Ub()),2&t){const t=c.$implicit;l.Db(2),l.mc("ngIf",-1===t.execState),l.Db(2),l.mc("ngIf",2===t.execState),l.Db(2),l.mc("ngIf",3===t.execState),l.Db(2),l.mc("ngIf",4===t.execState)}}function Rt(t,c){1&t&&(l.Vb(0,"th",23),l.Gc(1," "),l.Ub())}const Ot=function(t,c,e){return["/batch",t,"source-code",c,"exec-context",e,"state"]},kt=function(t){return["/batch",t,"status"]};function Et(t,c){if(1&t){const t=l.Wb();l.Vb(0,"td",24),l.Gc(1,"\n                            "),l.Vb(2,"ct-flex",26),l.Gc(3,"\n                                "),l.Vb(4,"ct-flex-item"),l.Gc(5,"\n                                    "),l.Vb(6,"button",27),l.Gc(7),l.hc(8,"translate"),l.Ub(),l.Gc(9,"\n                                "),l.Ub(),l.Gc(10,"\n\n                                "),l.Vb(11,"ct-flex-item"),l.Gc(12,"\n                                    "),l.Vb(13,"button",27),l.Gc(14),l.hc(15,"translate"),l.Ub(),l.Gc(16,"\n                                "),l.Ub(),l.Gc(17,"\n\n                                "),l.Vb(18,"ct-flex-item"),l.Gc(19,"\n                                    "),l.Vb(20,"button",28),l.cc("click",function(e){l.wc(t);const n=c.$implicit;return l.gc(2).downloadFile(e,n.batch.id)}),l.Gc(21),l.hc(22,"translate"),l.Ub(),l.Gc(23,"\n                                "),l.Ub(),l.Gc(24,"\n\n                                "),l.Vb(25,"ct-flex-item"),l.Gc(26,"\n                                    "),l.Vb(27,"button",29),l.cc("click",function(e){l.wc(t);const n=c.$implicit;return l.gc(2).delete(e,n)}),l.Gc(28,"\n                                        "),l.Vb(29,"mat-icon"),l.Gc(30,"delete"),l.Ub(),l.Gc(31,"\n                                    "),l.Ub(),l.Gc(32,"\n                                "),l.Ub(),l.Gc(33,"\n                            "),l.Ub(),l.Gc(34,"\n                        "),l.Ub()}if(2&t){const t=c.$implicit;l.Db(6),l.mc("disabled",t.execContextDeleted)("routerLink",l.rc(14,Ot,t.batch.id,t.batch.sourceCodeId,t.batch.execContextId)),l.Db(1),l.Ic("\n                                        ",l.ic(8,8,"batch.Task states"),""),l.Db(6),l.mc("disabled",4!==t.execState||t.execContextDeleted)("routerLink",l.pc(18,kt,t.batch.id)),l.Db(1),l.Ic("\n                                        ",l.ic(15,10,"batch.Status"),""),l.Db(6),l.mc("disabled",4!==t.execState||t.execContextDeleted),l.Db(1),l.Ic("\n                                        ",l.ic(22,12,"batch.Download Result"),"")}}function Ft(t,c){1&t&&(l.Vb(0,"tr",30),l.Gc(1," "),l.Ub())}function Pt(t,c){if(1&t){const t=l.Wb();l.Vb(0,"tr",31),l.cc("click",function(e){l.wc(t);const n=c.$implicit;return l.gc(2).selectRow(e,n)}),l.Ub()}if(2&t){const t=c.$implicit,e=l.gc(2);l.Hb("deleted-table-row",e.isDeletedRow(t))("selected-color",e.isSelectedRow(t))}}function Tt(t,c){if(1&t){const t=l.Wb();l.Vb(0,"ct-flex-item"),l.Gc(1,"\n                    "),l.Vb(2,"ct-flex",32),l.Gc(3,"\n                        "),l.Vb(4,"ct-flex-item"),l.Gc(5,"\n                            "),l.Vb(6,"div",33),l.Gc(7),l.hc(8,"translate"),l.Ub(),l.Gc(9,"\n                        "),l.Ub(),l.Gc(10,"\n                        "),l.Vb(11,"ct-flex-item"),l.Gc(12,"\n                            "),l.Vb(13,"button",34),l.cc("click",function(){return l.wc(t),l.gc(2).downloadSelectedRows()}),l.Gc(14),l.hc(15,"translate"),l.Ub(),l.Gc(16,"\n                        "),l.Ub(),l.Gc(17,"\n                        "),l.Vb(18,"ct-flex-item"),l.Gc(19,"\n                            "),l.Vb(20,"button",34),l.cc("click",function(){return l.wc(t),l.gc(2).discardSelectedRows()}),l.Gc(21),l.hc(22,"translate"),l.Ub(),l.Gc(23,"\n                        "),l.Ub(),l.Gc(24,"\n                    "),l.Ub(),l.Gc(25,"\n                "),l.Ub()}if(2&t){const t=l.gc(2);l.Db(7),l.Jc("\n                                ",l.ic(8,4,"batch.Batch")," \xd7 ",t.countOfSelectedRows(),"\n                            "),l.Db(7),l.Hc(l.ic(15,6,"batch.Download")),l.Db(7),l.Hc(l.ic(22,8,"batch.Discard"))}}function Mt(t,c){1&t&&l.Rb(0)}function jt(t,c){if(1&t){const t=l.Wb();l.Vb(0,"ct-section"),l.Gc(1,"\n    "),l.Vb(2,"ct-section-header"),l.Gc(3,"\n        "),l.Vb(4,"ct-section-header-row"),l.Gc(5,"\n            "),l.Vb(6,"ct-flex",2),l.Gc(7,"\n                "),l.Vb(8,"ct-flex-item"),l.Gc(9,"\n                    "),l.Vb(10,"ct-heading"),l.Gc(11),l.hc(12,"translate"),l.Ub(),l.Gc(13,"\n                "),l.Ub(),l.Gc(14,"\n                "),l.Vb(15,"ct-flex-item"),l.Gc(16,"\n                    "),l.Vb(17,"ct-flex",3),l.Gc(18,"\n                        "),l.Vb(19,"ct-flex-item"),l.Gc(20,"\n                            "),l.Ec(21,bt,1,0,"ng-container",4),l.Gc(22,"\n                        "),l.Ub(),l.Gc(23,"\n                        "),l.Vb(24,"ct-flex-item"),l.Gc(25,"\n                            "),l.Vb(26,"button",5),l.cc("click",function(){return l.wc(t),l.gc().toggleFilter()}),l.Gc(27,"\n                                "),l.Ec(28,rt,2,0,"span",6),l.Gc(29,"\n                                "),l.Ec(30,lt,2,0,"span",6),l.Gc(31,"\n                                "),l.Vb(32,"span"),l.Gc(33),l.hc(34,"translate"),l.Ub(),l.Gc(35,"\n                            "),l.Ub(),l.Gc(36,"\n                        "),l.Ub(),l.Gc(37,"\n                    "),l.Ub(),l.Gc(38,"\n                "),l.Ub(),l.Gc(39,"\n            "),l.Ub(),l.Gc(40,"\n        "),l.Ub(),l.Gc(41,"\n    "),l.Ub(),l.Gc(42,"\n    "),l.Vb(43,"ct-section-body"),l.Gc(44,"\n        "),l.Vb(45,"ct-section-body-row"),l.Gc(46,"\n            "),l.Vb(47,"ct-table",7),l.Gc(48,"\n                "),l.Vb(49,"table",8),l.Gc(50,"\n                    "),l.Tb(51,9),l.Gc(52,"\n                        "),l.Ec(53,dt,3,3,"th",10),l.Gc(54,"\n                        "),l.Ec(55,ut,2,1,"td",11),l.Gc(56,"\n                    "),l.Sb(),l.Gc(57,"\n                    "),l.Tb(58,12),l.Gc(59,"\n                        "),l.Ec(60,ht,3,3,"th",10),l.Gc(61,"\n                        "),l.Ec(62,Gt,3,4,"td",11),l.Gc(63,"\n                    "),l.Sb(),l.Gc(64,"\n                    "),l.Tb(65,13),l.Gc(66,"\n                        "),l.Ec(67,ft,3,3,"th",10),l.Gc(68,"\n                        "),l.Ec(69,pt,2,1,"td",11),l.Gc(70,"\n                    "),l.Sb(),l.Gc(71,"\n                    "),l.Tb(72,14),l.Gc(73,"\n                        "),l.Ec(74,mt,3,3,"th",10),l.Gc(75,"\n                        "),l.Ec(76,Vt,4,2,"td",11),l.Gc(77,"\n                    "),l.Sb(),l.Gc(78,"\n                    "),l.Tb(79,15),l.Gc(80,"\n                        "),l.Ec(81,Dt,10,6,"th",10),l.Gc(82,"\n                        "),l.Ec(83,wt,8,2,"td",11),l.Gc(84,"\n                    "),l.Sb(),l.Gc(85,"\n                    "),l.Tb(86,16),l.Gc(87,"\n                        "),l.Ec(88,xt,3,3,"th",10),l.Gc(89,"\n                        "),l.Ec(90,yt,10,4,"td",11),l.Gc(91,"\n                    "),l.Sb(),l.Gc(92,"\n                    "),l.Tb(93,17),l.Gc(94,"\n                        "),l.Ec(95,Rt,2,0,"th",10),l.Gc(96,"\n                        "),l.Ec(97,Et,35,20,"td",11),l.Gc(98,"\n                    "),l.Sb(),l.Gc(99,"\n                    "),l.Ec(100,Ft,2,0,"tr",18),l.Gc(101,"\n                    "),l.Ec(102,Pt,1,4,"tr",19),l.Gc(103,"\n                "),l.Ub(),l.Gc(104,"\n            "),l.Ub(),l.Gc(105,"\n        "),l.Ub(),l.Gc(106,"\n    "),l.Ub(),l.Gc(107,"\n    "),l.Vb(108,"ct-section-footer"),l.Gc(109,"\n        "),l.Vb(110,"ct-section-footer-row"),l.Gc(111,"\n            "),l.Vb(112,"ct-flex",20),l.Gc(113,"\n                "),l.Vb(114,"ct-flex-item"),l.Gc(115,"\n                    "),l.Vb(116,"ct-table-pagination",21),l.cc("prev",function(){return l.wc(t),l.gc().prevPage()})("next",function(){return l.wc(t),l.gc().nextPage()}),l.Ub(),l.Gc(117,"\n                "),l.Ub(),l.Gc(118,"\n\n                "),l.Ec(119,Tt,26,10,"ct-flex-item",0),l.Gc(120,"\n\n                "),l.Vb(121,"ct-flex-item"),l.Gc(122,"\n                    "),l.Ec(123,Mt,1,0,"ng-container",4),l.Gc(124,"\n                "),l.Ub(),l.Gc(125,"\n            "),l.Ub(),l.Gc(126,"\n        "),l.Ub(),l.Gc(127,"\n    "),l.Ub(),l.Gc(128,"\n"),l.Ub()}if(2&t){const t=l.gc(),c=l.uc(3);l.Db(11),l.Ic("",l.ic(12,13,"batch.Batch")," "),l.Db(10),l.mc("ngTemplateOutlet",c),l.Db(5),l.mc("disabled",!1),l.Db(2),l.mc("ngIf",t.isFiltered),l.Db(2),l.mc("ngIf",!t.isFiltered),l.Db(3),l.Hc(l.ic(34,15,"batch.onlyMyBatches")),l.Db(14),l.mc("isWaiting",t.isLoading),l.Db(2),l.mc("dataSource",t.dataSource),l.Db(51),l.mc("matHeaderRowDef",t.columnsToDisplay),l.Db(2),l.mc("matRowDefColumns",t.columnsToDisplay),l.Db(14),l.mc("pageableDefault",t.batchesResult.batches),l.Db(3),l.mc("ngIf",t.countOfSelectedRows()),l.Db(4),l.mc("ngTemplateOutlet",c)}}function Ht(t,c){1&t&&(l.Gc(0,"\n    "),l.Vb(1,"button",35),l.Gc(2),l.hc(3,"translate"),l.Ub(),l.Gc(4,"\n")),2&t&&(l.Db(1),l.mc("disabled",!1),l.Db(1),l.Ic("\n        ",l.ic(3,2,"batch.Upload files and start processing"),""))}function Bt(t,c){1&t&&(l.Gc(0,"\n    "),l.Vb(1,"button",35),l.Gc(2),l.hc(3,"translate"),l.Ub(),l.Gc(4,"\n")),2&t&&(l.Db(1),l.mc("disabled",!1),l.Db(1),l.Ic("\n        ",l.ic(3,2,"batch.Upload files and start processing"),""))}let qt=(()=>{class t extends x.a{constructor(t,c,e,n,a,i){super(c),this.batchService=t,this.authenticationService=c,this.dialog=e,this.translate=n,this.batchExexStatusService=a,this.settingsService=i,this.dataSource=new X.k([]),this.columnsToDisplay=["id","createdOn","Owner","isBatchConsistent","sourceCode","execState","bts"]}ngOnInit(){this.isFiltered=this.settingsService.events.value.settings.batchFilter,this.updateTable("0",this.isFiltered),this.subscribeSubscription(this.batchExexStatusService.getStatuses.subscribe({next:t=>{this.batchExexStatusService.updateBatchesResultByStatuses(this.batchesResult,t)}}))}ngOnDestroy(){this.unsubscribeSubscriptions()}updateTable(t,c){this.isLoading=!0,this.batchService.batches(t,c).subscribe({next:t=>{this.batchesResult=t,this.columnsToDisplay=this.authenticationService.isRoleOperator()?["id","createdOn","Owner","sourceCode","execState","bts"]:["id","createdOn","Owner","isBatchConsistent","sourceCode","execState","bts"],this.dataSource=new X.k(t.batches.content||[]),this.isLoading=!1}})}toggleFilter(){this.isFiltered=!this.isFiltered,this.settingsService.toggleBatchFilter(this.isFiltered),this.updateTable("0",this.isFiltered)}isDeletedRow(t){return!1}delete(t,c){this.batchService.processResourceDeleteCommit(c.batch.id.toString()).subscribe({next:()=>{this.updateTable(this.batchesResult.batches.number.toString(),this.isFiltered)}})}downloadFile(t,c){t.stopPropagation(),this.batchService.downloadFile(c).subscribe(t=>{var c,e,n;const a=null===(n=null===(e=null===(c=t.headers.get("Content-Disposition"))||void 0===c?void 0:c.split)||void 0===e?void 0:e.call(c,"''"))||void 0===n?void 0:n[1];ct.saveAs(t.body,a||"result.zip")})}downloadSelectedRows(){this.batchService.batchDownloader.download()}discardSelectedRows(){this.batchService.batchDownloader.clear()}isSelectedRow(t){return this.batchService.batchDownloader.isSelected(t)}selectRow(t,c){t.stopPropagation(),c.ok&&c.execState===tt.a.Finished&&this.batchService.batchDownloader.toggle(c)}countOfSelectedRows(){return this.batchService.batchDownloader.size}nextPage(){this.updateTable((this.batchesResult.batches.number+1).toString(),this.isFiltered)}prevPage(){this.updateTable((this.batchesResult.batches.number-1).toString(),this.isFiltered)}}return t.\u0275fac=function(c){return new(c||t)(l.Pb(r.a),l.Pb(S.a),l.Pb(et.b),l.Pb(s.d),l.Pb(nt.a),l.Pb(v.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["batch-list"]],features:[l.Ab],decls:7,vars:1,consts:[[4,"ngIf"],["uploadFilesButton",""],["justify-content","space-between","align-items","center","gap","unit(1)"],["justify-content","flex-end","align-items","center","gap","unit(1)"],[4,"ngTemplateOutlet"],["mat-stroked-button","",3,"disabled","click"],["style","vertical-align: baseline;",4,"ngIf"],[3,"isWaiting"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","Owner"],["matColumnDef","isBatchConsistent"],["matColumnDef","sourceCode"],["matColumnDef","execState"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"deleted-table-row","selected-color","click",4,"matRowDef","matRowDefColumns"],["justify-content","space-between","align-items","center"],[3,"pageableDefault","prev","next"],[2,"vertical-align","baseline"],["mat-header-cell",""],["mat-cell",""],[1,"no-wrap"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","routerLink"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","click"],["mat-flat-button","","color","warn","size","forTableRow","title","Delete",3,"click"],["mat-header-row",""],["mat-row","",3,"click"],["justify-content","center","align-items","center","gap","unit(1)"],[1,"selected-count"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary","routerLink","/batch/add",3,"disabled"]],template:function(t,c){1&t&&(l.Ec(0,jt,129,17,"ct-section",0),l.Gc(1,"\n\n\n\n"),l.Ec(2,Ht,5,4,"ng-template",null,1,l.Fc),l.Gc(4,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"),l.Ec(5,Bt,5,4,"ng-template",null,1,l.Fc)),2&t&&l.mc("ngIf",c.batchesResult)},directives:[n.m,d.a,u.a,h.a,P.a,T.a,G.a,n.r,M.b,f.a,p.a,at.a,X.j,X.c,X.e,X.b,X.g,X.i,E.a,F.a,it.a,X.d,X.a,i.d,st.a,X.f,X.h],pipes:[s.c,n.e],styles:[".selected-color[_ngcontent-%COMP%], .selected-count[_ngcontent-%COMP%]{background:rgba(255,193,7,.18)}.selected-count[_ngcontent-%COMP%]{border-radius:4px;padding:10px 20px 8px}"]}),function(t,c,e,n){var a,i=arguments.length,s=i<3?c:null===n?n=Object.getOwnPropertyDescriptor(c,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,c,e,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(c,e,s):a(c,e))||s);i>3&&s&&Object.defineProperty(c,e,s)}([Object(Z.a)({question:(t,c)=>(t.stopPropagation(),{text:Object(Y.a)("batch.delete-dialog.Do you want to delete Batch _batchId_"),params:{batchId:c.batch.id}}),rejectTitle:`${Object(Y.a)("batch.delete-dialog.Cancel")}`,resolveTitle:`${Object(Y.a)("batch.delete-dialog.Delete")}`}),ot("design:type",Function),ot("design:paramtypes",[Event,Object]),ot("design:returntype",void 0)],t.prototype,"delete",null),t})();var $t=e("iuQL");const Lt=[S.e.Admin,S.e.Data,S.e.Manager,S.e.Operator],zt=[{path:"",component:W,canActivate:[$t.a],data:{requiredRoles:Lt},children:[{path:"",component:qt,canActivate:[$t.a],data:{requiredRoles:Lt}},{path:":batchId/status",component:D,canActivate:[$t.a],data:{backConfig:["../","../"],requiredRoles:Lt}},{path:"add",component:L,canActivate:[$t.a],data:{backConfig:["../"],requiredRoles:Lt}},{path:":batchId/source-code/:sourceCodeId/exec-context/:execContextId/state",component:K,canActivate:[$t.a],data:{backConfig:["../","../","../","../","../","../"],requiredRoles:Lt}}]}];let Jt=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({imports:[[i.g.forChild(zt)],i.g]}),t})(),Qt=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({imports:[[n.c,Jt,z.a,o.a,a.h,a.p,_.a,s.b.forChild({})]]}),t})()}}]);