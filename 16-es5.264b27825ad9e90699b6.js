!function(){function t(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&e(t,c)}function e(t,c){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,c)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var c,i=a(t);if(e){var o=a(this).constructor;c=Reflect.construct(i,arguments,o)}else c=i.apply(this,arguments);return n(this,c)}}function n(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var c=0;c<e.length;c++){var n=e[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,c){return e&&o(t.prototype,e),c&&o(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{gFOi:function(e,n,a){"use strict";a.r(n),a.d(n,"BatchRoutes",function(){return te}),a.d(n,"BatchRoutingModule",function(){return ee}),a.d(n,"BatchModule",function(){return ce});var o=a("ofXK"),s=a("3Pt+"),r=a("tyNb"),l=a("sYmb"),u=a("vCXQ"),d=a("u8e3"),f=a("Hz+5"),h=a("fXoL"),G=a("2ljo"),p=a("1P+h"),m=a("25/r"),g=a("Xc1m"),v=a("Ne1S"),U=a("Kt2f"),V=a("IRPT");function w(t,e){if(1&t&&(h.Vb(0,"ct-section-body-row"),h.Gc(1," \n      "),h.Vb(2,"ct-pre"),h.Gc(3),h.Ub(),h.Gc(4,"\n    "),h.Ub()),2&t){var c=h.gc();h.Db(3),h.Hc(c.response.console)}}var D,y=function(t){return{batchId:t}},S=function(t,e){return[t,e]},x=((D=function(){function t(e,c,n){i(this,t),this.route=e,this.batchService=c,this.router=n,this.states=d.a,this.currentState=d.a.firstLoading}return b(t,[{key:"ngOnInit",value:function(){this.batchId=this.route.snapshot.paramMap.get("batchId"),this.updateResponse()}},{key:"updateResponse",value:function(){var t=this;this.batchService.getProcessingResourceStatus(this.batchId).subscribe(function(e){t.response=e,t.currentState=t.states.show})}}]),t}()).\u0275fac=function(t){return new(t||D)(h.Pb(r.a),h.Pb(f.a),h.Pb(r.c))},D.\u0275cmp=h.Jb({type:D,selectors:[["batch-status"]],decls:21,vars:10,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(h.Gc(0,"\n"),h.Vb(1,"ct-section"),h.Gc(2,"\n  "),h.Vb(3,"ct-section-header"),h.Gc(4,"\n    "),h.Vb(5,"ct-section-header-row"),h.Gc(6,"\n      "),h.Vb(7,"ct-heading"),h.Gc(8,"  \n        "),h.Vb(9,"div"),h.Gc(10),h.hc(11,"translate"),h.Ub(),h.Gc(12,"\n      "),h.Ub(),h.Gc(13,"\n    "),h.Ub(),h.Gc(14,"\n  "),h.Ub(),h.Gc(15,"\n  "),h.Vb(16,"ct-section-body"),h.Gc(17,"\n    "),h.Ec(18,w,5,1,"ct-section-body-row",0),h.Gc(19,"\n  "),h.Ub(),h.Gc(20,"\n"),h.Ub()),2&t&&(h.Db(10),h.Ic("",h.jc(11,2,"batch-status.Status of execution of batch _batchId_",h.pc(5,y,e.batchId))," "),h.Db(8),h.mc("ngIf",h.qc(7,S,e.states.wait,e.states.show).includes(e.currentState)))},directives:[G.a,p.a,m.a,g.a,v.a,o.m,U.a,V.a],pipes:[l.c],styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word}"]}),D),C=a("uB0V"),I=a("FzDw"),k=a("q4ZW"),R=a("LjSU"),O=a("MbdJ"),E=a("I6qf"),P=a("MI58"),T=a("kmnG"),F=a("d3UM"),j=a("PVyz"),M=a("FMVq"),B=a("V6TR"),H=a("CaYE"),_=a("No2e"),q=a("bTqV"),L=a("05qC"),z=a("FKr1"),$=["fileUpload"];function J(t,e){if(1&t&&(h.Vb(0,"div"),h.Gc(1,"\n                                "),h.Vb(2,"mat-option",11),h.Gc(3),h.Ub(),h.Gc(4,"\n                            "),h.Ub()),2&t){var c=e.$implicit;h.Db(2),h.mc("value",c),h.Db(1),h.Hc(c.uid)}}function Q(t,e){if(1&t){var c=h.Wb();h.Vb(0,"ct-cols"),h.Gc(1,"\n    "),h.Vb(2,"ct-col",1),h.Gc(3,"\n        "),h.Vb(4,"ct-section"),h.Gc(5,"\n            "),h.Vb(6,"ct-section-header"),h.Gc(7,"\n                "),h.Vb(8,"ct-section-header-row"),h.Gc(9,"\n                    "),h.Vb(10,"ct-heading"),h.Gc(11),h.hc(12,"translate"),h.Ub(),h.Gc(13,"\n                "),h.Ub(),h.Gc(14,"\n            "),h.Ub(),h.Gc(15,"\n            "),h.Vb(16,"ct-section-body"),h.Gc(17,"\n                "),h.Vb(18,"ct-section-body-row"),h.Gc(19,"\n                    "),h.Vb(20,"mat-form-field",2),h.Gc(21,"\n                        "),h.Vb(22,"mat-label"),h.Gc(23),h.hc(24,"translate"),h.Ub(),h.Gc(25,"\n                        "),h.Vb(26,"mat-select",3),h.cc("ngModelChange",function(t){return h.wc(c),h.gc().sourceCode=t}),h.Gc(27,"\n                            "),h.Ec(28,J,5,2,"div",4),h.Gc(29,"\n                        "),h.Ub(),h.Gc(30,"\n                        "),h.Vb(31,"mat-hint"),h.Gc(32),h.hc(33,"translate"),h.Ub(),h.Gc(34,"\n                    "),h.Ub(),h.Gc(35,"\n\n                    "),h.Qb(36,"br"),h.Gc(37,"\n                    "),h.Qb(38,"br"),h.Gc(39,"\n\n                    "),h.Vb(40,"div"),h.Gc(41,"\n                        "),h.Vb(42,"ct-file-upload",5,6),h.cc("changed",function(){return h.wc(c),h.gc().fileUploadChanged()}),h.hc(44,"translate"),h.Gc(45,"\n                        "),h.Ub(),h.Gc(46,"\n                        "),h.Vb(47,"ct-hint"),h.Gc(48),h.hc(49,"translate"),h.Ub(),h.Gc(50,"\n                        "),h.Vb(51,"ct-hint"),h.Gc(52),h.hc(53,"translate"),h.Ub(),h.Gc(54,"\n                    "),h.Ub(),h.Gc(55,"\n                "),h.Ub(),h.Gc(56,"\n            "),h.Ub(),h.Gc(57,"\n            "),h.Vb(58,"ct-section-footer"),h.Gc(59,"\n                "),h.Vb(60,"ct-section-footer-row"),h.Gc(61,"\n                    "),h.Vb(62,"ct-flex",7),h.Gc(63,"\n                        "),h.Vb(64,"ct-flex-item"),h.Gc(65,"\n                            "),h.Vb(66,"button",8),h.cc("click",function(){return h.wc(c),h.gc().back()}),h.Gc(67),h.hc(68,"translate"),h.Ub(),h.Gc(69,"\n                        "),h.Ub(),h.Gc(70,"\n                        "),h.Vb(71,"ct-flex-item"),h.Gc(72,"\n                            "),h.Vb(73,"button",9),h.cc("click",function(){return h.wc(c),h.gc().upload()}),h.Gc(74),h.hc(75,"translate"),h.Ub(),h.Gc(76,"\n                        "),h.Ub(),h.Gc(77,"\n                    "),h.Ub(),h.Gc(78,"\n                "),h.Ub(),h.Gc(79,"\n            "),h.Ub(),h.Gc(80,"\n        "),h.Ub(),h.Gc(81,"\n    "),h.Ub(),h.Gc(82,"\n    "),h.Vb(83,"ct-col",1),h.Gc(84,"\n        "),h.Qb(85,"ct-rest-status",10),h.Gc(86,"\n    "),h.Ub(),h.Gc(87,"\n"),h.Ub()}if(2&t){var n=h.gc();h.Db(11),h.Hc(h.ic(12,12,"batch-add.Upload file for processing")),h.Db(12),h.Ic(" ",h.ic(24,14,"batch-add.List of Source Codes"),""),h.Db(3),h.mc("ngModel",n.sourceCode),h.Db(2),h.mc("ngForOf",n.listOfSourceCodes),h.Db(4),h.Hc(h.ic(33,16,"batch-add.This is a required field.")),h.Db(10),h.nc("buttonTitle",h.ic(44,18,"batch-add.Select File")),h.Db(6),h.Hc(h.ic(49,20,"batch-add.This is a required field.")),h.Db(4),h.Hc(h.ic(53,22,"batch-add.Only .xml and .zip files are supported")),h.Db(15),h.Ic("\n                                ",h.ic(68,24,"batch-add.Cancel"),""),h.Db(6),h.mc("disabled",!n.sourceCode||!n.file),h.Db(1),h.Ic(" ",h.ic(75,26,"batch-add.Upload-File-button"),""),h.Db(11),h.mc("content",n.uploadResponse)}}var A,W,N,K=((A=function(e){t(a,e);var n=c(a);function a(t,e,c,o,b,s){var r;return i(this,a),(r=n.call(this,s)).batchService=t,r.router=e,r.route=c,r.translate=o,r.settingsService=b,r.authenticationService=s,r.currentStates=new Set,r.listOfSourceCodes=[],r}return b(a,[{key:"ngOnInit",value:function(){var t=this;this.subscribeSubscription(this.settingsService.events.subscribe(function(e){e instanceof R.b&&t.translate.use(e.settings.language)})),this.updateResponse()}},{key:"ngOnDestroy",value:function(){this.unsubscribeSubscriptions()}},{key:"updateResponse",value:function(){var t=this;this.batchService.batchAdd().subscribe(function(e){t.response=e,t.listOfSourceCodes=t.response.items})}},{key:"back",value:function(){this.router.navigate(["../"],{relativeTo:this.route})}},{key:"upload",value:function(){var t=this;this.batchService.uploadFile(this.sourceCode.id.toString(),this.fileUpload.fileInput.nativeElement.files[0]).subscribe(function(e){e.status===C.a.OK&&t.back(),t.uploadResponse=e})}},{key:"fileUploadChanged",value:function(){this.file=this.fileUpload.fileInput.nativeElement.files[0]||!1}}]),a}(I.a)).\u0275fac=function(t){return new(t||A)(h.Pb(f.a),h.Pb(r.c),h.Pb(r.a),h.Pb(l.d),h.Pb(R.a),h.Pb(k.a))},A.\u0275cmp=h.Jb({type:A,selectors:[["batch-add"]],viewQuery:function(t,e){var c;1&t&&h.Kc($,1),2&t&&h.tc(c=h.dc())&&(e.fileUpload=c.first)},features:[h.Ab],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["appearance","outline"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["acceptTypes",".zip, .xml",3,"buttonTitle","changed"],["fileUpload",""],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"],[3,"value"]],template:function(t,e){1&t&&h.Ec(0,Q,88,28,"ct-cols",0),2&t&&h.mc("ngIf",e.response)},directives:[o.m,E.a,P.a,G.a,p.a,m.a,g.a,v.a,U.a,T.b,T.f,F.a,s.l,s.o,o.l,T.e,O.a,j.a,M.a,B.a,H.a,_.a,q.b,L.a,z.m],pipes:[l.c],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),A),X=a("9kxi"),Y=a("W8U/"),Z=a("6Q+1"),tt=a("qyGu"),et=((W=function(){function t(){i(this,t)}return b(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||W)},W.\u0275cmp=h.Jb({type:W,selectors:[["batch-root"]],decls:8,vars:0,template:function(t,e){1&t&&(h.Vb(0,"ct-content"),h.Gc(1,"\n    "),h.Qb(2,"router-outlet"),h.Gc(3,"\n    "),h.Qb(4,"ct-back-button"),h.Gc(5,"\n    "),h.Qb(6,"copy-right"),h.Gc(7,"\n"),h.Ub())},directives:[Y.a,r.h,Z.a,tt.a],styles:[""]}),W),ct=a("wIh8"),nt=a("2qjw"),at=((N=function t(e){i(this,t),this.route=e,this.sourceCodeId=this.route.snapshot.paramMap.get("sourceCodeId"),this.execContextId=this.route.snapshot.paramMap.get("execContextId")}).\u0275fac=function(t){return new(t||N)(h.Pb(r.a))},N.\u0275cmp=h.Jb({type:N,selectors:[["batch-state"]],decls:19,vars:2,consts:[[3,"sourceCodeId","execContextId"]],template:function(t,e){1&t&&(h.Vb(0,"ct-section"),h.Gc(1,"\n    "),h.Vb(2,"ct-section-header"),h.Gc(3,"\n        "),h.Vb(4,"ct-section-header-row"),h.Gc(5,"\n            "),h.Vb(6,"ct-heading"),h.Gc(7,"State of Tasks"),h.Ub(),h.Gc(8,"\n        "),h.Ub(),h.Gc(9,"\n    "),h.Ub(),h.Gc(10,"\n    "),h.Vb(11,"ct-section-body"),h.Gc(12,"\n        "),h.Vb(13,"ct-section-body-row"),h.Gc(14,"\n            "),h.Qb(15,"ct-state-of-tasks",0),h.Gc(16,"\n        "),h.Ub(),h.Gc(17,"\n    "),h.Ub(),h.Gc(18,"\n"),h.Ub()),2&t&&(h.Db(15),h.mc("sourceCodeId",e.sourceCodeId)("execContextId",e.execContextId))},directives:[G.a,p.a,m.a,g.a,v.a,U.a,nt.a],styles:[""]}),N),it=a("+0xr"),ot=a("4u49"),bt=a("lJGJ"),st=a("YcRZ"),rt=a("Iab2"),lt=a("0IaG"),ut=a("LazG"),dt=a("6xdO"),ft=a("W7k4"),ht=a("NFeN"),Gt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function pt(t,e){1&t&&h.Rb(0)}function mt(t,e){1&t&&(h.Vb(0,"span",22),h.Gc(1,"\u2713\xa0\xa0"),h.Ub())}function gt(t,e){1&t&&(h.Vb(0,"span",22),h.Gc(1,"\u2717\xa0\xa0"),h.Ub())}function vt(t,e){1&t&&(h.Vb(0,"th",23),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Hc(h.ic(2,1,"batch.Id")))}function Ut(t,e){if(1&t&&(h.Vb(0,"td",24),h.Gc(1),h.Ub()),2&t){var c=e.$implicit;h.Db(1),h.Ic("",c.batch.id," ")}}function Vt(t,e){1&t&&(h.Vb(0,"th",23),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Ic("",h.ic(2,1,"batch.Created On"),"\n                        "))}function wt(t,e){if(1&t&&(h.Vb(0,"td",24),h.Gc(1),h.hc(2,"date"),h.Ub()),2&t){var c=e.$implicit;h.Db(1),h.Ic("\n                            ",h.jc(2,1,c.batch.createdOn,"MMM d, yyyy, HH:mm:ss")," ")}}function Dt(t,e){1&t&&(h.Vb(0,"th",23),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Ic("",h.ic(2,1,"batch.Owner's username"),"\n                        "))}function yt(t,e){if(1&t&&(h.Vb(0,"td",24),h.Gc(1),h.Ub()),2&t){var c=e.$implicit;h.Db(1),h.Hc(c.username)}}function St(t,e){1&t&&(h.Vb(0,"th",23),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Ic("\n                            ",h.ic(2,1,"batch.Is Batch Consistent?")," "))}function xt(t,e){1&t&&(h.Vb(0,"span"),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Hc(h.ic(2,1,"batch.isBatchConsistent.true")))}function Ct(t,e){1&t&&(h.Vb(0,"span"),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Hc(h.ic(2,1,"batch.isBatchConsistent.false")))}function It(t,e){if(1&t&&(h.Vb(0,"td",24),h.Gc(1," "),h.Ec(2,xt,3,3,"span",0),h.Ec(3,Ct,3,3,"span",0),h.Ub()),2&t){var c=e.$implicit;h.Db(2),h.mc("ngIf",c.ok),h.Db(1),h.mc("ngIf",!c.ok)}}function kt(t,e){1&t&&(h.Vb(0,"th",23),h.Gc(1,"\n                            "),h.Vb(2,"div",25),h.Gc(3),h.hc(4,"translate"),h.Ub(),h.Gc(5,"\n                            "),h.Vb(6,"div",25),h.Gc(7),h.hc(8,"translate"),h.Ub(),h.Gc(9,"\n                        "),h.Ub()),2&t&&(h.Db(3),h.Hc(h.ic(4,2,"batch.Source Code")),h.Db(4),h.Hc(h.ic(8,4,"batch.File name")))}function Rt(t,e){if(1&t&&(h.Vb(0,"td",24),h.Gc(1,"\n                            "),h.Vb(2,"div",25),h.Gc(3),h.Ub(),h.Gc(4,"\n                            "),h.Vb(5,"div",25),h.Gc(6),h.Ub(),h.Gc(7,"\n                        "),h.Ub()),2&t){var c=e.$implicit;h.Db(3),h.Hc(c.sourceCodeUid),h.Db(3),h.Hc(c.uploadedFileName)}}function Ot(t,e){1&t&&(h.Vb(0,"th",23),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Ic(" ",h.ic(2,1,"batch.Exec State"),"\n                        "))}function Et(t,e){1&t&&(h.Vb(0,"span"),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Ic("\n                                ",h.ic(2,1,"batch.isBatchConsistent.Error"),"\n                            "))}function Pt(t,e){1&t&&(h.Vb(0,"span"),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Ic("\n                                ",h.ic(2,1,"batch.isBatchConsistent.Preparing"),"\n                            "))}function Tt(t,e){1&t&&(h.Vb(0,"span"),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Ic("\n                                ",h.ic(2,1,"batch.isBatchConsistent.Processing"),"\n                            "))}function Ft(t,e){1&t&&(h.Vb(0,"span"),h.Gc(1),h.hc(2,"translate"),h.Ub()),2&t&&(h.Db(1),h.Ic("\n                                ",h.ic(2,1,"batch.isBatchConsistent.Finished"),"\n                            "))}function jt(t,e){if(1&t&&(h.Vb(0,"td",24),h.Gc(1,"\n                            "),h.Ec(2,Et,3,3,"span",0),h.Gc(3,"\n                            "),h.Ec(4,Pt,3,3,"span",0),h.Gc(5,"\n                            "),h.Ec(6,Tt,3,3,"span",0),h.Gc(7,"\n                            "),h.Ec(8,Ft,3,3,"span",0),h.Gc(9,"\n                        "),h.Ub()),2&t){var c=e.$implicit;h.Db(2),h.mc("ngIf",-1===c.execState),h.Db(2),h.mc("ngIf",2===c.execState),h.Db(2),h.mc("ngIf",3===c.execState),h.Db(2),h.mc("ngIf",4===c.execState)}}function Mt(t,e){1&t&&(h.Vb(0,"th",23),h.Gc(1," "),h.Ub())}var Bt=function(t,e,c){return["/batch",t,"source-code",e,"exec-context",c,"state"]},Ht=function(t){return["/batch",t,"status"]};function _t(t,e){if(1&t){var c=h.Wb();h.Vb(0,"td",24),h.Gc(1,"\n                            "),h.Vb(2,"ct-flex",26),h.Gc(3,"\n                                "),h.Vb(4,"ct-flex-item"),h.Gc(5,"\n                                    "),h.Vb(6,"button",27),h.Gc(7),h.hc(8,"translate"),h.Ub(),h.Gc(9,"\n                                "),h.Ub(),h.Gc(10,"\n\n                                "),h.Vb(11,"ct-flex-item"),h.Gc(12,"\n                                    "),h.Vb(13,"button",27),h.Gc(14),h.hc(15,"translate"),h.Ub(),h.Gc(16,"\n                                "),h.Ub(),h.Gc(17,"\n\n                                "),h.Vb(18,"ct-flex-item"),h.Gc(19,"\n                                    "),h.Vb(20,"button",28),h.cc("click",function(t){h.wc(c);var n=e.$implicit;return h.gc(2).downloadFile(t,n.batch.id)}),h.Gc(21),h.hc(22,"translate"),h.Ub(),h.Gc(23,"\n                                "),h.Ub(),h.Gc(24,"\n\n                                "),h.Vb(25,"ct-flex-item"),h.Gc(26,"\n                                    "),h.Vb(27,"button",29),h.cc("click",function(t){h.wc(c);var n=e.$implicit;return h.gc(2).delete(t,n)}),h.Gc(28,"\n                                        "),h.Vb(29,"mat-icon"),h.Gc(30,"delete"),h.Ub(),h.Gc(31,"\n                                    "),h.Ub(),h.Gc(32,"\n                                "),h.Ub(),h.Gc(33,"\n                            "),h.Ub(),h.Gc(34,"\n                        "),h.Ub()}if(2&t){var n=e.$implicit;h.Db(6),h.mc("disabled",n.execContextDeleted)("routerLink",h.rc(14,Bt,n.batch.id,n.batch.sourceCodeId,n.batch.execContextId)),h.Db(1),h.Ic("\n                                        ",h.ic(8,8,"batch.Task states"),""),h.Db(6),h.mc("disabled",4!==n.execState||n.execContextDeleted)("routerLink",h.pc(18,Ht,n.batch.id)),h.Db(1),h.Ic("\n                                        ",h.ic(15,10,"batch.Status"),""),h.Db(6),h.mc("disabled",4!==n.execState||n.execContextDeleted),h.Db(1),h.Ic("\n                                        ",h.ic(22,12,"batch.Download Result"),"")}}function qt(t,e){1&t&&(h.Vb(0,"tr",30),h.Gc(1," "),h.Ub())}function Lt(t,e){if(1&t){var c=h.Wb();h.Vb(0,"tr",31),h.cc("click",function(t){h.wc(c);var n=e.$implicit;return h.gc(2).selectRow(t,n)}),h.Ub()}if(2&t){var n=e.$implicit,a=h.gc(2);h.Hb("deleted-table-row",a.isDeletedRow(n))("selected-color",a.isSelectedRow(n))}}function zt(t,e){if(1&t){var c=h.Wb();h.Vb(0,"ct-flex-item"),h.Gc(1,"\n                    "),h.Vb(2,"ct-flex",32),h.Gc(3,"\n                        "),h.Vb(4,"ct-flex-item"),h.Gc(5,"\n                            "),h.Vb(6,"div",33),h.Gc(7),h.hc(8,"translate"),h.Ub(),h.Gc(9,"\n                        "),h.Ub(),h.Gc(10,"\n                        "),h.Vb(11,"ct-flex-item"),h.Gc(12,"\n                            "),h.Vb(13,"button",34),h.cc("click",function(){return h.wc(c),h.gc(2).downloadSelectedRows()}),h.Gc(14),h.hc(15,"translate"),h.Ub(),h.Gc(16,"\n                        "),h.Ub(),h.Gc(17,"\n                        "),h.Vb(18,"ct-flex-item"),h.Gc(19,"\n                            "),h.Vb(20,"button",34),h.cc("click",function(){return h.wc(c),h.gc(2).discardSelectedRows()}),h.Gc(21),h.hc(22,"translate"),h.Ub(),h.Gc(23,"\n                        "),h.Ub(),h.Gc(24,"\n                    "),h.Ub(),h.Gc(25,"\n                "),h.Ub()}if(2&t){var n=h.gc(2);h.Db(7),h.Jc("\n                                ",h.ic(8,4,"batch.Batch")," \xd7 ",n.countOfSelectedRows(),"\n                            "),h.Db(7),h.Hc(h.ic(15,6,"batch.Download")),h.Db(7),h.Hc(h.ic(22,8,"batch.Discard"))}}function $t(t,e){1&t&&h.Rb(0)}function Jt(t,e){if(1&t){var c=h.Wb();h.Vb(0,"ct-section"),h.Gc(1,"\n    "),h.Vb(2,"ct-section-header"),h.Gc(3,"\n        "),h.Vb(4,"ct-section-header-row"),h.Gc(5,"\n            "),h.Vb(6,"ct-flex",2),h.Gc(7,"\n                "),h.Vb(8,"ct-flex-item"),h.Gc(9,"\n                    "),h.Vb(10,"ct-heading"),h.Gc(11),h.hc(12,"translate"),h.Ub(),h.Gc(13,"\n                "),h.Ub(),h.Gc(14,"\n                "),h.Vb(15,"ct-flex-item"),h.Gc(16,"\n                    "),h.Vb(17,"ct-flex",3),h.Gc(18,"\n                        "),h.Vb(19,"ct-flex-item"),h.Gc(20,"\n                            "),h.Ec(21,pt,1,0,"ng-container",4),h.Gc(22,"\n                        "),h.Ub(),h.Gc(23,"\n                        "),h.Vb(24,"ct-flex-item"),h.Gc(25,"\n                            "),h.Vb(26,"button",5),h.cc("click",function(){return h.wc(c),h.gc().toggleFilter()}),h.Gc(27,"\n                                "),h.Ec(28,mt,2,0,"span",6),h.Gc(29,"\n                                "),h.Ec(30,gt,2,0,"span",6),h.Gc(31,"\n                                "),h.Vb(32,"span"),h.Gc(33),h.hc(34,"translate"),h.Ub(),h.Gc(35,"\n                            "),h.Ub(),h.Gc(36,"\n                        "),h.Ub(),h.Gc(37,"\n                    "),h.Ub(),h.Gc(38,"\n                "),h.Ub(),h.Gc(39,"\n            "),h.Ub(),h.Gc(40,"\n        "),h.Ub(),h.Gc(41,"\n    "),h.Ub(),h.Gc(42,"\n    "),h.Vb(43,"ct-section-body"),h.Gc(44,"\n        "),h.Vb(45,"ct-section-body-row"),h.Gc(46,"\n            "),h.Vb(47,"ct-table",7),h.Gc(48,"\n                "),h.Vb(49,"table",8),h.Gc(50,"\n                    "),h.Tb(51,9),h.Gc(52,"\n                        "),h.Ec(53,vt,3,3,"th",10),h.Gc(54,"\n                        "),h.Ec(55,Ut,2,1,"td",11),h.Gc(56,"\n                    "),h.Sb(),h.Gc(57,"\n                    "),h.Tb(58,12),h.Gc(59,"\n                        "),h.Ec(60,Vt,3,3,"th",10),h.Gc(61,"\n                        "),h.Ec(62,wt,3,4,"td",11),h.Gc(63,"\n                    "),h.Sb(),h.Gc(64,"\n                    "),h.Tb(65,13),h.Gc(66,"\n                        "),h.Ec(67,Dt,3,3,"th",10),h.Gc(68,"\n                        "),h.Ec(69,yt,2,1,"td",11),h.Gc(70,"\n                    "),h.Sb(),h.Gc(71,"\n                    "),h.Tb(72,14),h.Gc(73,"\n                        "),h.Ec(74,St,3,3,"th",10),h.Gc(75,"\n                        "),h.Ec(76,It,4,2,"td",11),h.Gc(77,"\n                    "),h.Sb(),h.Gc(78,"\n                    "),h.Tb(79,15),h.Gc(80,"\n                        "),h.Ec(81,kt,10,6,"th",10),h.Gc(82,"\n                        "),h.Ec(83,Rt,8,2,"td",11),h.Gc(84,"\n                    "),h.Sb(),h.Gc(85,"\n                    "),h.Tb(86,16),h.Gc(87,"\n                        "),h.Ec(88,Ot,3,3,"th",10),h.Gc(89,"\n                        "),h.Ec(90,jt,10,4,"td",11),h.Gc(91,"\n                    "),h.Sb(),h.Gc(92,"\n                    "),h.Tb(93,17),h.Gc(94,"\n                        "),h.Ec(95,Mt,2,0,"th",10),h.Gc(96,"\n                        "),h.Ec(97,_t,35,20,"td",11),h.Gc(98,"\n                    "),h.Sb(),h.Gc(99,"\n                    "),h.Ec(100,qt,2,0,"tr",18),h.Gc(101,"\n                    "),h.Ec(102,Lt,1,4,"tr",19),h.Gc(103,"\n                "),h.Ub(),h.Gc(104,"\n            "),h.Ub(),h.Gc(105,"\n        "),h.Ub(),h.Gc(106,"\n    "),h.Ub(),h.Gc(107,"\n    "),h.Vb(108,"ct-section-footer"),h.Gc(109,"\n        "),h.Vb(110,"ct-section-footer-row"),h.Gc(111,"\n            "),h.Vb(112,"ct-flex",20),h.Gc(113,"\n                "),h.Vb(114,"ct-flex-item"),h.Gc(115,"\n                    "),h.Vb(116,"ct-table-pagination",21),h.cc("prev",function(){return h.wc(c),h.gc().prevPage()})("next",function(){return h.wc(c),h.gc().nextPage()}),h.Ub(),h.Gc(117,"\n                "),h.Ub(),h.Gc(118,"\n\n                "),h.Ec(119,zt,26,10,"ct-flex-item",0),h.Gc(120,"\n\n                "),h.Vb(121,"ct-flex-item"),h.Gc(122,"\n                    "),h.Ec(123,$t,1,0,"ng-container",4),h.Gc(124,"\n                "),h.Ub(),h.Gc(125,"\n            "),h.Ub(),h.Gc(126,"\n        "),h.Ub(),h.Gc(127,"\n    "),h.Ub(),h.Gc(128,"\n"),h.Ub()}if(2&t){var n=h.gc(),a=h.uc(3);h.Db(11),h.Ic("",h.ic(12,13,"batch.Batch")," "),h.Db(10),h.mc("ngTemplateOutlet",a),h.Db(5),h.mc("disabled",!1),h.Db(2),h.mc("ngIf",n.isFiltered),h.Db(2),h.mc("ngIf",!n.isFiltered),h.Db(3),h.Hc(h.ic(34,15,"batch.onlyMyBatches")),h.Db(14),h.mc("isWaiting",n.isLoading),h.Db(2),h.mc("dataSource",n.dataSource),h.Db(51),h.mc("matHeaderRowDef",n.columnsToDisplay),h.Db(2),h.mc("matRowDefColumns",n.columnsToDisplay),h.Db(14),h.mc("pageableDefault",n.batchesResult.batches),h.Db(3),h.mc("ngIf",n.countOfSelectedRows()),h.Db(4),h.mc("ngTemplateOutlet",a)}}function Qt(t,e){1&t&&(h.Gc(0,"\n    "),h.Vb(1,"button",35),h.Gc(2),h.hc(3,"translate"),h.Ub(),h.Gc(4,"\n")),2&t&&(h.Db(1),h.mc("disabled",!1),h.Db(1),h.Ic("\n        ",h.ic(3,2,"batch.Upload files and start processing"),""))}function At(t,e){1&t&&(h.Gc(0,"\n    "),h.Vb(1,"button",35),h.Gc(2),h.hc(3,"translate"),h.Ub(),h.Gc(4,"\n")),2&t&&(h.Db(1),h.mc("disabled",!1),h.Db(1),h.Ic("\n        ",h.ic(3,2,"batch.Upload files and start processing"),""))}var Wt,Nt,Kt,Xt=((Wt=function(e){t(a,e);var n=c(a);function a(t,e,c,o,b,s){var r;return i(this,a),(r=n.call(this,e)).batchService=t,r.authenticationService=e,r.dialog=c,r.translate=o,r.batchExexStatusService=b,r.settingsService=s,r.dataSource=new it.k([]),r.columnsToDisplay=["id","createdOn","Owner","isBatchConsistent","sourceCode","execState","bts"],r}return b(a,[{key:"ngOnInit",value:function(){var t=this;this.isFiltered=this.settingsService.events.value.settings.batchFilter,this.updateTable("0",this.isFiltered),this.subscribeSubscription(this.batchExexStatusService.getStatuses.subscribe({next:function(e){t.batchExexStatusService.updateBatchesResultByStatuses(t.batchesResult,e)}}))}},{key:"ngOnDestroy",value:function(){this.unsubscribeSubscriptions()}},{key:"updateTable",value:function(t,e){var c=this;this.isLoading=!0,this.batchService.batches(t,e).subscribe({next:function(t){c.batchesResult=t,c.columnsToDisplay=c.authenticationService.isRoleOperator()?["id","createdOn","Owner","sourceCode","execState","bts"]:["id","createdOn","Owner","isBatchConsistent","sourceCode","execState","bts"],c.dataSource=new it.k(t.batches.content||[]),c.isLoading=!1}})}},{key:"toggleFilter",value:function(){this.isFiltered=!this.isFiltered,this.settingsService.toggleBatchFilter(this.isFiltered),this.updateTable("0",this.isFiltered)}},{key:"isDeletedRow",value:function(t){return!1}},{key:"delete",value:function(t,e){var c=this;this.batchService.processResourceDeleteCommit(e.batch.id.toString()).subscribe({next:function(){c.updateTable(c.batchesResult.batches.number.toString(),c.isFiltered)}})}},{key:"downloadFile",value:function(t,e){t.stopPropagation(),this.batchService.downloadFile(e).subscribe(function(t){var e,c,n,a=null===(n=null===(c=null===(e=t.headers.get("Content-Disposition"))||void 0===e?void 0:e.split)||void 0===c?void 0:c.call(e,"''"))||void 0===n?void 0:n[1];rt.saveAs(t.body,a||"result.zip")})}},{key:"downloadSelectedRows",value:function(){this.batchService.batchDownloader.download()}},{key:"discardSelectedRows",value:function(){this.batchService.batchDownloader.clear()}},{key:"isSelectedRow",value:function(t){return this.batchService.batchDownloader.isSelected(t)}},{key:"selectRow",value:function(t,e){t.stopPropagation(),e.ok&&e.execState===st.a.Finished&&this.batchService.batchDownloader.toggle(e)}},{key:"countOfSelectedRows",value:function(){return this.batchService.batchDownloader.size}},{key:"nextPage",value:function(){this.updateTable((this.batchesResult.batches.number+1).toString(),this.isFiltered)}},{key:"prevPage",value:function(){this.updateTable((this.batchesResult.batches.number-1).toString(),this.isFiltered)}}]),a}(I.a)).\u0275fac=function(t){return new(t||Wt)(h.Pb(f.a),h.Pb(k.a),h.Pb(lt.b),h.Pb(l.d),h.Pb(ut.a),h.Pb(R.a))},Wt.\u0275cmp=h.Jb({type:Wt,selectors:[["batch-list"]],features:[h.Ab],decls:7,vars:1,consts:[[4,"ngIf"],["uploadFilesButton",""],["justify-content","space-between","align-items","center","gap","unit(1)"],["justify-content","flex-end","align-items","center","gap","unit(1)"],[4,"ngTemplateOutlet"],["mat-stroked-button","",3,"disabled","click"],["style","vertical-align: baseline;",4,"ngIf"],[3,"isWaiting"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","Owner"],["matColumnDef","isBatchConsistent"],["matColumnDef","sourceCode"],["matColumnDef","execState"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"deleted-table-row","selected-color","click",4,"matRowDef","matRowDefColumns"],["justify-content","space-between","align-items","center"],[3,"pageableDefault","prev","next"],[2,"vertical-align","baseline"],["mat-header-cell",""],["mat-cell",""],[1,"no-wrap"],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","routerLink"],["mat-flat-button","","size","forTableRow","color","primary",3,"disabled","click"],["mat-flat-button","","color","warn","size","forTableRow","title","Delete",3,"click"],["mat-header-row",""],["mat-row","",3,"click"],["justify-content","center","align-items","center","gap","unit(1)"],[1,"selected-count"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary","routerLink","/batch/add",3,"disabled"]],template:function(t,e){1&t&&(h.Ec(0,Jt,129,17,"ct-section",0),h.Gc(1,"\n\n\n\n"),h.Ec(2,Qt,5,4,"ng-template",null,1,h.Fc),h.Gc(4,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"),h.Ec(5,At,5,4,"ng-template",null,1,h.Fc)),2&t&&h.mc("ngIf",e.batchesResult)},directives:[o.m,G.a,p.a,m.a,H.a,_.a,g.a,o.r,q.b,v.a,U.a,dt.a,it.j,it.c,it.e,it.b,it.g,it.i,M.a,B.a,ft.a,it.d,it.a,r.d,ht.a,it.f,it.h],pipes:[l.c,o.e],styles:[".selected-color[_ngcontent-%COMP%], .selected-count[_ngcontent-%COMP%]{background:rgba(255,193,7,.18)}.selected-count[_ngcontent-%COMP%]{border-radius:4px;padding:10px 20px 8px}"]}),function(t,e,c,n){var a,i=arguments.length,o=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,c):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,c,n);else for(var b=t.length-1;b>=0;b--)(a=t[b])&&(o=(i<3?a(o):i>3?a(e,c,o):a(e,c))||o);i>3&&o&&Object.defineProperty(e,c,o)}([Object(bt.a)({question:function(t,e){return t.stopPropagation(),{text:Object(ot.a)("batch.delete-dialog.Do you want to delete Batch _batchId_"),params:{batchId:e.batch.id}}},rejectTitle:"".concat(Object(ot.a)("batch.delete-dialog.Cancel")),resolveTitle:"".concat(Object(ot.a)("batch.delete-dialog.Delete"))}),Gt("design:type",Function),Gt("design:paramtypes",[Event,Object]),Gt("design:returntype",void 0)],Wt.prototype,"delete",null),Wt),Yt=a("iuQL"),Zt=[k.e.Admin,k.e.Data,k.e.Manager,k.e.Operator],te=[{path:"",component:et,canActivate:[Yt.a],data:{requiredRoles:Zt},children:[{path:"",component:Xt,canActivate:[Yt.a],data:{requiredRoles:Zt}},{path:":batchId/status",component:x,canActivate:[Yt.a],data:{backConfig:["../","../"],requiredRoles:Zt}},{path:"add",component:K,canActivate:[Yt.a],data:{backConfig:["../"],requiredRoles:Zt}},{path:":batchId/source-code/:sourceCodeId/exec-context/:execContextId/state",component:at,canActivate:[Yt.a],data:{backConfig:["../","../","../","../","../","../"],requiredRoles:Zt}}]}],ee=((Kt=function t(){i(this,t)}).\u0275fac=function(t){return new(t||Kt)},Kt.\u0275mod=h.Nb({type:Kt}),Kt.\u0275inj=h.Mb({imports:[[r.g.forChild(te)],r.g]}),Kt),ce=((Nt=function t(){i(this,t)}).\u0275fac=function(t){return new(t||Nt)},Nt.\u0275mod=h.Nb({type:Nt}),Nt.\u0275inj=h.Mb({imports:[[o.c,ee,X.a,u.a,s.h,s.p,ct.a,l.b.forChild({})]]}),Nt)}}])}();